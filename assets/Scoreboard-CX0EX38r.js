var Js=Object.defineProperty;var Qs=(e,t,s)=>t in e?Js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ge=(e,t,s)=>Qs(e,typeof t!="symbol"?t+"":t,s);import{r as l,g as ze,a as _e,u as je,_ as fe,b as A,c as pe,j as r,s as ae,d as H,e as we,f as eo,h as to,i as vr,k as Sr,l as Et,m as Mr,n as ro,o as N,B as p,R as Vt,p as ks,S as se,L as Dr,q as Pt,t as so,v as oo}from"./index-BeuNjhzr.js";import{l as ne}from"./logger-o-M4vtOz.js";import{u as xr,g as ao,o as qt,a as Ee,P as xe,F as Gt,M as no,B as io,L as lo,e as Br,G as co,c as me,b as Ts,t as c,d as D,C as jr,D as qe,f as mo,h as uo,i as po,j as ge,k as xo,s as $e,A as Qe,l as ct,m as et,n as tt,p as Is,I as Mt,q as ho,N as fo,r as Nr}from"./Navbar-MuDbTouq.js";import{u as zs,a as hr,T as y,b as go,c as bo,B as yo,d as Ve}from"./Button-D9sHacpw.js";import{T as _s,C as Fe,a as wr}from"./TrendingUp-t2dIhgZE.js";import{g as vo}from"./listItemIconClasses-D9Q1YNh2.js";import{u as Ft,s as So,m as jo,a as wo,r as Cr,D as kr,b as Co,c as ko,d as To,e as Tr,f as Dt,g as Gr,Z as Ir,L as ut,h as Io,C as zo,i as _o,j as Lt,k as Ro,l as Po,R as Lo,S as Fr,n as Wo,o as Rs,p as Ao,q as Ps,t as Ls,v as Oo,w as $o,x as Eo,y as Mo,z as Do,A as Bo,B as Ws,E as No,F as Go,G as Fo,H as Ho,I as Uo,J as wt,K as Ko,M as $t,N as Hr,O as Vo,P as qo,Q as Wt,T as Xo,U as Yo,V as Zo,W as Jo,X as Qo,Y as As,_ as ea,$ as ta,a0 as ra,a1 as sa,a2 as oa,a3 as aa,a4 as na,a5 as ia,a6 as la,a7 as ca,a8 as da,a9 as ma,aa as ua,ab as Ur,ac as pa,ad as Kr}from"./CartesianChart-BkSJFr0W.js";import{p as Ct,f as kt}from"./parseISO-D6CdGl5U.js";import{W as xa}from"./WeeklyCalendar-DYsDj40k.js";import{T as ha,a as Vr}from"./Tabs-DkhNbkvl.js";import{g as qr,a as Xr}from"./teamMappings-BQ8e-HGV.js";import{g as fa}from"./season-CT1Q602E.js";import{A as ga}from"./Alert-su9Uuwqx.js";const Os=e=>{const t=l.useRef({});return l.useEffect(()=>{t.current=e}),t.current};function ba(e){return l.Children.toArray(e).filter(t=>l.isValidElement(t))}function ya(e){const{badgeContent:t,invisible:s=!1,max:o=99,showZero:a=!1}=e,n=Os({badgeContent:t,max:o});let i=s;s===!1&&t===0&&!a&&(i=!0);const{badgeContent:m,max:d=o}=i?n:e,u=m&&Number(m)>d?`${d}+`:m;return{badgeContent:m,invisible:i,max:d,displayValue:u}}function va(e){return _e("MuiBadge",e)}const Ke=ze("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Sa=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Xt=10,Yt=4,ja=e=>{const{color:t,anchorOrigin:s,invisible:o,overlap:a,variant:n,classes:i={}}=e,m={root:["root"],badge:["badge",n,o&&"invisible",`anchorOrigin${H(s.vertical)}${H(s.horizontal)}`,`anchorOrigin${H(s.vertical)}${H(s.horizontal)}${H(a)}`,`overlap${H(a)}`,t!=="default"&&`color${H(t)}`]};return we(m,va,i)},wa=ae("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Ca=ae("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.badge,t[s.variant],t[`anchorOrigin${H(s.anchorOrigin.vertical)}${H(s.anchorOrigin.horizontal)}${H(s.overlap)}`],s.color!=="default"&&t[`color${H(s.color)}`],s.invisible&&t.invisible]}})(({theme:e})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:Xt*2,lineHeight:1,padding:"0 6px",height:Xt*2,borderRadius:Xt,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=e.vars)!=null?t:e).palette).filter(s=>{var o,a;return((o=e.vars)!=null?o:e).palette[s].main&&((a=e.vars)!=null?a:e).palette[s].contrastText}).map(s=>({props:{color:s},style:{backgroundColor:(e.vars||e).palette[s].main,color:(e.vars||e).palette[s].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Yt,height:Yt*2,minWidth:Yt*2,padding:0}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ke.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ke.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ke.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ke.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ke.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="right"&&s.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ke.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="top"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ke.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:s})=>s.anchorOrigin.vertical==="bottom"&&s.anchorOrigin.horizontal==="left"&&s.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ke.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}}),ka=l.forwardRef(function(t,s){var o,a,n,i,m,d;const u=je({props:t,name:"MuiBadge"}),{anchorOrigin:g={vertical:"top",horizontal:"right"},className:x,component:f,components:S={},componentsProps:v={},children:h,overlap:j="rectangular",color:b="default",invisible:w=!1,max:C=99,badgeContent:B,slots:q,slotProps:I,showZero:T=!1,variant:k="standard"}=u,O=fe(u,Sa),{badgeContent:U,invisible:K,max:F,displayValue:G}=ya({max:C,invisible:w,badgeContent:B,showZero:T}),Y=Os({anchorOrigin:g,color:b,overlap:j,variant:k,badgeContent:B}),Z=K||U==null&&k!=="dot",{color:ee=b,overlap:ie=j,anchorOrigin:ce=g,variant:de=k}=Z?Y:u,Re=de!=="dot"?G:void 0,Me=A({},u,{badgeContent:U,invisible:Z,max:F,displayValue:Re,showZero:T,anchorOrigin:ce,color:ee,overlap:ie,variant:de}),Xe=ja(Me),Ye=(o=(a=q==null?void 0:q.root)!=null?a:S.Root)!=null?o:wa,Ze=(n=(i=q==null?void 0:q.badge)!=null?i:S.Badge)!=null?n:Ca,Pe=(m=I==null?void 0:I.root)!=null?m:v.root,te=(d=I==null?void 0:I.badge)!=null?d:v.badge,Ce=xr({elementType:Ye,externalSlotProps:Pe,externalForwardedProps:O,additionalProps:{ref:s,as:f},ownerState:Me,className:pe(Pe==null?void 0:Pe.className,Xe.root,x)}),be=xr({elementType:Ze,externalSlotProps:te,ownerState:Me,className:pe(Xe.badge,te==null?void 0:te.className)});return r.jsxs(Ye,A({},Ce,{children:[h,r.jsx(Ze,A({},be,{children:Re}))]}))});function Yr(e){return e.substring(2).toLowerCase()}function Ta(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Ia(e){const{children:t,disableReactTree:s=!1,mouseEvent:o="onClick",onClickAway:a,touchEvent:n="onTouchEnd"}=e,i=l.useRef(!1),m=l.useRef(null),d=l.useRef(!1),u=l.useRef(!1);l.useEffect(()=>(setTimeout(()=>{d.current=!0},0),()=>{d.current=!1}),[]);const g=zs(ao(t),m),x=hr(v=>{const h=u.current;u.current=!1;const j=qt(m.current);if(!d.current||!m.current||"clientX"in v&&Ta(v,j))return;if(i.current){i.current=!1;return}let b;v.composedPath?b=v.composedPath().indexOf(m.current)>-1:b=!j.documentElement.contains(v.target)||m.current.contains(v.target),!b&&(s||!h)&&a(v)}),f=v=>h=>{u.current=!0;const j=t.props[v];j&&j(h)},S={ref:g};return n!==!1&&(S[n]=f(n)),l.useEffect(()=>{if(n!==!1){const v=Yr(n),h=qt(m.current),j=()=>{i.current=!0};return h.addEventListener(v,x),h.addEventListener("touchmove",j),()=>{h.removeEventListener(v,x),h.removeEventListener("touchmove",j)}}},[x,n]),o!==!1&&(S[o]=f(o)),l.useEffect(()=>{if(o!==!1){const v=Yr(o),h=qt(m.current);return h.addEventListener(v,x),()=>{h.removeEventListener(v,x)}}},[x,o]),r.jsx(l.Fragment,{children:l.cloneElement(t,S)})}function za(e){return _e("MuiDialog",e)}const Zt=ze("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),$s=l.createContext({}),_a=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Ra=ae(io,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Pa=e=>{const{classes:t,scroll:s,maxWidth:o,fullWidth:a,fullScreen:n}=e,i={root:["root"],container:["container",`scroll${H(s)}`],paper:["paper",`paperScroll${H(s)}`,`paperWidth${H(String(o))}`,a&&"paperFullWidth",n&&"paperFullScreen"]};return we(i,za,t)},La=ae(no,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Wa=ae("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.container,t[`scroll${H(s.scroll)}`]]}})(({ownerState:e})=>A({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Aa=ae(xe,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.paper,t[`scrollPaper${H(s.scroll)}`],t[`paperWidth${H(String(s.maxWidth))}`],s.fullWidth&&t.paperFullWidth,s.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>A({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Zt.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Zt.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Zt.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Oa=l.forwardRef(function(t,s){const o=je({props:t,name:"MuiDialog"}),a=Ee(),n={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":m,BackdropComponent:d,BackdropProps:u,children:g,className:x,disableEscapeKeyDown:f=!1,fullScreen:S=!1,fullWidth:v=!1,maxWidth:h="sm",onBackdropClick:j,onClick:b,onClose:w,open:C,PaperComponent:B=xe,PaperProps:q={},scroll:I="paper",TransitionComponent:T=Gt,transitionDuration:k=n,TransitionProps:O}=o,U=fe(o,_a),K=A({},o,{disableEscapeKeyDown:f,fullScreen:S,fullWidth:v,maxWidth:h,scroll:I}),F=Pa(K),G=l.useRef(),Y=ce=>{G.current=ce.target===ce.currentTarget},Z=ce=>{b&&b(ce),G.current&&(G.current=null,j&&j(ce),w&&w(ce,"backdropClick"))},ee=eo(m),ie=l.useMemo(()=>({titleId:ee}),[ee]);return r.jsx(La,A({className:pe(F.root,x),closeAfterTransition:!0,components:{Backdrop:Ra},componentsProps:{backdrop:A({transitionDuration:k,as:d},u)},disableEscapeKeyDown:f,onClose:w,open:C,ref:s,onClick:Z,ownerState:K},U,{children:r.jsx(T,A({appear:!0,in:C,timeout:k,role:"presentation"},O,{children:r.jsx(Wa,{className:pe(F.container),onMouseDown:Y,ownerState:K,children:r.jsx(Aa,A({as:B,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":ee},q,{className:pe(F.paper,q.className),ownerState:K,children:r.jsx($s.Provider,{value:ie,children:g})}))})}))}))});function $a(e){return _e("MuiDialogActions",e)}ze("MuiDialogActions",["root","spacing"]);const Ea=["className","disableSpacing"],Ma=e=>{const{classes:t,disableSpacing:s}=e;return we({root:["root",!s&&"spacing"]},$a,t)},Da=ae("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableSpacing&&t.spacing]}})(({ownerState:e})=>A({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Ba=l.forwardRef(function(t,s){const o=je({props:t,name:"MuiDialogActions"}),{className:a,disableSpacing:n=!1}=o,i=fe(o,Ea),m=A({},o,{disableSpacing:n}),d=Ma(m);return r.jsx(Da,A({className:pe(d.root,a),ownerState:m,ref:s},i))});function Na(e){return _e("MuiDialogContent",e)}ze("MuiDialogContent",["root","dividers"]);function Ga(e){return _e("MuiDialogTitle",e)}const Fa=ze("MuiDialogTitle",["root"]),Ha=["className","dividers"],Ua=e=>{const{classes:t,dividers:s}=e;return we({root:["root",s&&"dividers"]},Na,t)},Ka=ae("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>A({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Fa.root} + &`]:{paddingTop:0}})),Va=l.forwardRef(function(t,s){const o=je({props:t,name:"MuiDialogContent"}),{className:a,dividers:n=!1}=o,i=fe(o,Ha),m=A({},o,{dividers:n}),d=Ua(m);return r.jsx(Ka,A({className:pe(d.root,a),ownerState:m,ref:s},i))}),qa=["className","id"],Xa=e=>{const{classes:t}=e;return we({root:["root"]},Ga,t)},Ya=ae(y,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Za=l.forwardRef(function(t,s){const o=je({props:t,name:"MuiDialogTitle"}),{className:a,id:n}=o,i=fe(o,qa),m=o,d=Xa(m),{titleId:u=n}=l.useContext($s);return r.jsx(Ya,A({component:"h2",className:pe(d.root,a),ownerState:m,ref:s,variant:"h6",id:n??u},i))});function Ja(e){return _e("MuiLinearProgress",e)}ze("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Qa=["className","color","value","valueBuffer","variant"];let pt=e=>e,Zr,Jr,Qr,es,ts,rs;const fr=4,en=Sr(Zr||(Zr=pt`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),tn=Sr(Jr||(Jr=pt`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),rn=Sr(Qr||(Qr=pt`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),sn=e=>{const{classes:t,variant:s,color:o}=e,a={root:["root",`color${H(o)}`,s],dashed:["dashed",`dashedColor${H(o)}`],bar1:["bar",`barColor${H(o)}`,(s==="indeterminate"||s==="query")&&"bar1Indeterminate",s==="determinate"&&"bar1Determinate",s==="buffer"&&"bar1Buffer"],bar2:["bar",s!=="buffer"&&`barColor${H(o)}`,s==="buffer"&&`color${H(o)}`,(s==="indeterminate"||s==="query")&&"bar2Indeterminate",s==="buffer"&&"bar2Buffer"]};return we(a,Ja,t)},zr=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?Et.lighten(e.palette[t].main,.62):Et.darken(e.palette[t].main,.5),on=ae("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[`color${H(s.color)}`],t[s.variant]]}})(({ownerState:e,theme:t})=>A({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:zr(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),an=ae("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.dashed,t[`dashedColor${H(s.color)}`]]}})(({ownerState:e,theme:t})=>{const s=zr(t,e.color);return A({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${s} 0%, ${s} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},vr(es||(es=pt`
    animation: ${0} 3s infinite linear;
  `),rn)),nn=ae("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.bar,t[`barColor${H(s.color)}`],(s.variant==="indeterminate"||s.variant==="query")&&t.bar1Indeterminate,s.variant==="determinate"&&t.bar1Determinate,s.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>A({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${fr}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${fr}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&vr(ts||(ts=pt`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),en)),ln=ae("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.bar,t[`barColor${H(s.color)}`],(s.variant==="indeterminate"||s.variant==="query")&&t.bar2Indeterminate,s.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>A({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:zr(t,e.color),transition:`transform .${fr}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&vr(rs||(rs=pt`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),tn)),cn=l.forwardRef(function(t,s){const o=je({props:t,name:"MuiLinearProgress"}),{className:a,color:n="primary",value:i,valueBuffer:m,variant:d="indeterminate"}=o,u=fe(o,Qa),g=A({},o,{color:n,variant:d}),x=sn(g),f=to(),S={},v={bar1:{},bar2:{}};if((d==="determinate"||d==="buffer")&&i!==void 0){S["aria-valuenow"]=Math.round(i),S["aria-valuemin"]=0,S["aria-valuemax"]=100;let h=i-100;f&&(h=-h),v.bar1.transform=`translateX(${h}%)`}if(d==="buffer"&&m!==void 0){let h=(m||0)-100;f&&(h=-h),v.bar2.transform=`translateX(${h}%)`}return r.jsxs(on,A({className:pe(x.root,a),ownerState:g,role:"progressbar"},S,{ref:s},u,{children:[d==="buffer"?r.jsx(an,{className:x.dashed,ownerState:g}):null,r.jsx(nn,{className:x.bar1,ownerState:g,style:v.bar1}),d==="determinate"?null:r.jsx(ln,{className:x.bar2,ownerState:g,style:v.bar2})]}))});function dn(e){return _e("MuiLink",e)}const mn=ze("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Es={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},un=e=>Es[e]||e,pn=({theme:e,ownerState:t})=>{const s=un(t.color),o=Mr(e,`palette.${s}`,!1)||t.color,a=Mr(e,`palette.${s}Channel`);return"vars"in e&&a?`rgba(${a} / 0.4)`:Et.alpha(o,.4)},xn=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],hn=e=>{const{classes:t,component:s,focusVisible:o,underline:a}=e,n={root:["root",`underline${H(a)}`,s==="button"&&"button",o&&"focusVisible"]};return we(n,dn,t)},fn=ae(y,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[`underline${H(s.underline)}`],s.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>A({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&A({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:pn({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${mn.focusVisible}`]:{outline:"auto"}})),gr=l.forwardRef(function(t,s){const o=je({props:t,name:"MuiLink"}),{className:a,color:n="primary",component:i="a",onBlur:m,onFocus:d,TypographyClasses:u,underline:g="always",variant:x="inherit",sx:f}=o,S=fe(o,xn),{isFocusVisibleRef:v,onBlur:h,onFocus:j,ref:b}=go(),[w,C]=l.useState(!1),B=zs(s,b),q=O=>{h(O),v.current===!1&&C(!1),m&&m(O)},I=O=>{j(O),v.current===!0&&C(!0),d&&d(O)},T=A({},o,{color:n,component:i,focusVisible:w,underline:g,variant:x}),k=hn(T);return r.jsx(fn,A({color:n,className:pe(k.root,a),classes:u,component:i,onBlur:q,onFocus:I,ref:B,ownerState:T,variant:x,sx:[...Object.keys(Es).includes(n)?[]:[{color:n}],...Array.isArray(f)?f:[f]]},S))}),gn=["className"],bn=e=>{const{alignItems:t,classes:s}=e;return we({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},vo,s)},yn=ae("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>A({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),vn=l.forwardRef(function(t,s){const o=je({props:t,name:"MuiListItemIcon"}),{className:a}=o,n=fe(o,gn),i=l.useContext(lo),m=A({},o,{alignItems:i.alignItems}),d=bn(m);return r.jsx(yn,A({className:pe(d.root,a),ownerState:m,ref:s},n))});function Sn(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:s=!1,onClose:o,open:a,resumeHideDuration:n}=e,i=bo();l.useEffect(()=>{if(!a)return;function b(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(o==null||o(w,"escapeKeyDown"))}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[a,o]);const m=hr((b,w)=>{o==null||o(b,w)}),d=hr(b=>{!o||b==null||i.start(b,()=>{m(null,"timeout")})});l.useEffect(()=>(a&&d(t),i.clear),[a,t,d,i]);const u=b=>{o==null||o(b,"clickaway")},g=i.clear,x=l.useCallback(()=>{t!=null&&d(n??t*.5)},[t,n,d]),f=b=>w=>{const C=b.onBlur;C==null||C(w),x()},S=b=>w=>{const C=b.onFocus;C==null||C(w),g()},v=b=>w=>{const C=b.onMouseEnter;C==null||C(w),g()},h=b=>w=>{const C=b.onMouseLeave;C==null||C(w),x()};return l.useEffect(()=>{if(!s&&a)return window.addEventListener("focus",x),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",x),window.removeEventListener("blur",g)}},[s,a,x,g]),{getRootProps:(b={})=>{const w=A({},Br(e),Br(b));return A({role:"presentation"},b,w,{onBlur:f(w),onFocus:S(w),onMouseEnter:v(w),onMouseLeave:h(w)})},onClickAway:u}}function jn(e){return _e("MuiSnackbarContent",e)}ze("MuiSnackbarContent",["root","message","action"]);const wn=["action","className","message","role"],Cn=e=>{const{classes:t}=e;return we({root:["root"],action:["action"],message:["message"]},jn,t)},kn=ae(xe,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,s=Et.emphasize(e.palette.background.default,t);return A({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(s),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:s,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Tn=ae("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),In=ae("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),zn=l.forwardRef(function(t,s){const o=je({props:t,name:"MuiSnackbarContent"}),{action:a,className:n,message:i,role:m="alert"}=o,d=fe(o,wn),u=o,g=Cn(u);return r.jsxs(kn,A({role:m,square:!0,elevation:6,className:pe(g.root,n),ownerState:u,ref:s},d,{children:[r.jsx(Tn,{className:g.message,ownerState:u,children:i}),a?r.jsx(In,{className:g.action,ownerState:u,children:a}):null]}))});function _n(e){return _e("MuiSnackbar",e)}ze("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Rn=["onEnter","onExited"],Pn=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Ln=e=>{const{classes:t,anchorOrigin:s}=e,o={root:["root",`anchorOrigin${H(s.vertical)}${H(s.horizontal)}`]};return we(o,_n,t)},ss=ae("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[`anchorOrigin${H(s.anchorOrigin.vertical)}${H(s.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const s={left:"50%",right:"auto",transform:"translateX(-50%)"};return A({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:A({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&s,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Wn=l.forwardRef(function(t,s){const o=je({props:t,name:"MuiSnackbar"}),a=Ee(),n={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:m,horizontal:d}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:g,className:x,ClickAwayListenerProps:f,ContentProps:S,disableWindowBlurListener:v=!1,message:h,open:j,TransitionComponent:b=co,transitionDuration:w=n,TransitionProps:{onEnter:C,onExited:B}={}}=o,q=fe(o.TransitionProps,Rn),I=fe(o,Pn),T=A({},o,{anchorOrigin:{vertical:m,horizontal:d},autoHideDuration:u,disableWindowBlurListener:v,TransitionComponent:b,transitionDuration:w}),k=Ln(T),{getRootProps:O,onClickAway:U}=Sn(A({},T)),[K,F]=l.useState(!0),G=xr({elementType:ss,getSlotProps:O,externalForwardedProps:I,ownerState:T,additionalProps:{ref:s},className:[k.root,x]}),Y=ee=>{F(!0),B&&B(ee)},Z=(ee,ie)=>{F(!1),C&&C(ee,ie)};return!j&&K?null:r.jsx(Ia,A({onClickAway:U},f,{children:r.jsx(ss,A({},G,{children:r.jsx(b,A({appear:!0,in:j,timeout:w,direction:m==="top"?"down":"up",onEnter:Z,onExited:Y},q,{children:g||r.jsx(zn,A({message:h,action:i},S))}))}))}))});function An(e){return _e("MuiToggleButton",e)}const mt=ze("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Ms=l.createContext({}),Ds=l.createContext(void 0);function On(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}const $n=["value"],En=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],Mn=e=>{const{classes:t,fullWidth:s,selected:o,disabled:a,size:n,color:i}=e,m={root:["root",o&&"selected",a&&"disabled",s&&"fullWidth",`size${H(n)}`,i]};return we(m,An,t)},Dn=ae(yo,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[`size${H(s.size)}`]]}})(({theme:e,ownerState:t})=>{let s=t.color==="standard"?e.palette.text.primary:e.palette[t.color].main,o;return e.vars&&(s=t.color==="standard"?e.vars.palette.text.primary:e.vars.palette[t.color].main,o=t.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),A({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${mt.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:N(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${mt.selected}`]:{color:s,backgroundColor:e.vars?`rgba(${o} / ${e.vars.palette.action.selectedOpacity})`:N(s,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${o} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:N(s,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${o} / ${e.vars.palette.action.selectedOpacity})`:N(s,e.palette.action.selectedOpacity)}}}},t.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},t.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),At=l.forwardRef(function(t,s){const o=l.useContext(Ms),{value:a}=o,n=fe(o,$n),i=l.useContext(Ds),m=ro(A({},n,{selected:On(t.value,a)}),t),d=je({props:m,name:"MuiToggleButton"}),{children:u,className:g,color:x="standard",disabled:f=!1,disableFocusRipple:S=!1,fullWidth:v=!1,onChange:h,onClick:j,selected:b,size:w="medium",value:C}=d,B=fe(d,En),q=A({},d,{color:x,disabled:f,disableFocusRipple:S,fullWidth:v,size:w}),I=Mn(q),T=O=>{j&&(j(O,C),O.defaultPrevented)||h&&h(O,C)},k=i||"";return r.jsx(Dn,A({className:pe(n.className,I.root,g,k),disabled:f,focusRipple:!S,ref:s,onClick:T,onChange:h,value:C,ownerState:q,"aria-pressed":b},B,{children:u}))});function Bn(e){return _e("MuiToggleButtonGroup",e)}const Q=ze("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Nn=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],Gn=e=>{const{classes:t,orientation:s,fullWidth:o,disabled:a}=e,n={root:["root",s==="vertical"&&"vertical",o&&"fullWidth"],grouped:["grouped",`grouped${H(s)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return we(n,Bn,t)},Fn=ae("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${Q.grouped}`]:t.grouped},{[`& .${Q.grouped}`]:t[`grouped${H(s.orientation)}`]},{[`& .${Q.firstButton}`]:t.firstButton},{[`& .${Q.lastButton}`]:t.lastButton},{[`& .${Q.middleButton}`]:t.middleButton},t.root,s.orientation==="vertical"&&t.vertical,s.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>A({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${Q.grouped}`]:A({},e.orientation==="horizontal"?{[`&.${Q.selected} + .${Q.grouped}.${Q.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${Q.selected} + .${Q.grouped}.${Q.selected}`]:{borderTop:0,marginTop:0}})},e.orientation==="horizontal"?{[`& .${Q.firstButton},& .${Q.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Q.lastButton},& .${Q.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${Q.firstButton},& .${Q.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Q.lastButton},& .${Q.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},e.orientation==="horizontal"?{[`& .${Q.lastButton}.${mt.disabled},& .${Q.middleButton}.${mt.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${Q.lastButton}.${mt.disabled},& .${Q.middleButton}.${mt.disabled}`]:{borderTop:"1px solid transparent"}})),Hn=l.forwardRef(function(t,s){const o=je({props:t,name:"MuiToggleButtonGroup"}),{children:a,className:n,color:i="standard",disabled:m=!1,exclusive:d=!1,fullWidth:u=!1,onChange:g,orientation:x="horizontal",size:f="medium",value:S}=o,v=fe(o,Nn),h=A({},o,{disabled:m,fullWidth:u,orientation:x,size:f}),j=Gn(h),b=l.useCallback((T,k)=>{if(!g)return;const O=S&&S.indexOf(k);let U;S&&O>=0?(U=S.slice(),U.splice(O,1)):U=S?S.concat(k):[k],g(T,U)},[g,S]),w=l.useCallback((T,k)=>{g&&g(T,S===k?null:k)},[g,S]),C=l.useMemo(()=>({className:j.grouped,onChange:d?w:b,value:S,size:f,fullWidth:u,color:i,disabled:m}),[j.grouped,d,w,b,S,f,u,i,m]),B=ba(a),q=B.length,I=T=>{const k=T===0,O=T===q-1;return k&&O?"":k?j.firstButton:O?j.lastButton:j.middleButton};return r.jsx(Fn,A({role:"group",className:pe(j.root,n),ref:s,ownerState:h},v,{children:r.jsx(Ms.Provider,{value:C,children:B.map((T,k)=>r.jsx(Ds.Provider,{value:I(k),children:T},k))})}))}),Un=me(r.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Bs=me(r.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),Kn=me(r.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),Jt=me(r.jsx("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"}),"Event"),Bt=me(r.jsx("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord"),Vn=me(r.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),qn=me(r.jsx("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"}),"FlashOn"),br=me([r.jsx("path",{d:"M21 8c-1.45 0-2.26 1.44-1.93 2.51l-3.55 3.56c-.3-.09-.74-.09-1.04 0l-2.55-2.55C12.27 10.45 11.46 9 10 9c-1.45 0-2.27 1.44-1.93 2.52l-4.56 4.55C2.44 15.74 1 16.55 1 18c0 1.1.9 2 2 2 1.45 0 2.26-1.44 1.93-2.51l4.55-4.56c.3.09.74.09 1.04 0l2.55 2.55C12.73 16.55 13.54 18 15 18c1.45 0 2.27-1.44 1.93-2.52l3.56-3.55c1.07.33 2.51-.48 2.51-1.93 0-1.1-.9-2-2-2"},"0"),r.jsx("path",{d:"m15 9 .94-2.07L18 6l-2.06-.93L15 3l-.92 2.07L12 6l2.08.93zM3.5 11 4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9z"},"1")],"Insights"),Xn=me(r.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),Yn=me(r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),Zn=me(r.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Qt=me([r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule"),Jn=me([r.jsx("path",{d:"M11.23 6c-1.66 0-3.22.66-4.36 1.73C6.54 6.73 5.61 6 4.5 6 3.12 6 2 7.12 2 8.5S3.12 11 4.5 11c.21 0 .41-.03.61-.08-.05.25-.09.51-.1.78-.18 3.68 2.95 6.68 6.68 6.27 2.55-.28 4.68-2.26 5.19-4.77.15-.71.15-1.4.06-2.06-.09-.6.38-1.13.99-1.13H22V6zM4.5 9c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5m6.5 6c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3"},"0"),r.jsx("circle",{cx:"11",cy:"12",r:"2"},"1")],"Sports"),Qn=me(r.jsx("path",{d:"M17.09 11h4.86c-.16-1.61-.71-3.11-1.54-4.4-1.73.83-2.99 2.45-3.32 4.4M6.91 11c-.33-1.95-1.59-3.57-3.32-4.4-.83 1.29-1.38 2.79-1.54 4.4zm8.16 0c.32-2.59 1.88-4.79 4.06-6-1.6-1.63-3.74-2.71-6.13-2.95V11zm-6.14 0H11V2.05C8.61 2.29 6.46 3.37 4.87 5c2.18 1.21 3.74 3.41 4.06 6m6.14 2H13v8.95c2.39-.24 4.54-1.32 6.13-2.95-2.18-1.21-3.74-3.41-4.06-6M3.59 17.4c1.72-.83 2.99-2.46 3.32-4.4H2.05c.16 1.61.71 3.11 1.54 4.4m13.5-4.4c.33 1.95 1.59 3.57 3.32 4.4.83-1.29 1.38-2.79 1.54-4.4zm-8.16 0c-.32 2.59-1.88 4.79-4.06 6 1.6 1.63 3.74 2.71 6.13 2.95V13z"}),"SportsBasketball"),ei=me(r.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),Ns=me(r.jsx("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),os=me(r.jsx("path",{d:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67M11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8"}),"Whatshot");class ti{constructor(){Ge(this,"socket",null);Ge(this,"url",null);Ge(this,"listeners",new Set);Ge(this,"shouldReconnect",!0)}connect(t){this.socket&&this.socket.readyState===WebSocket.OPEN&&this.url===t||(this.socket&&this.url!==t&&this.disconnect(),this.socket&&(this.socket.close(),this.socket=null),this.shouldReconnect=!0,this.url=t,this.socket=new WebSocket(t),this.socket.onopen=()=>{ne.info("WebSocket connected for scoreboard updates")},this.socket.onmessage=s=>{try{const o=JSON.parse(s.data);if(o.type==="insights"){console.log("[WebSocket] Received insights message:",o),window.dispatchEvent(new CustomEvent("websocket-insights",{detail:o}));return}if(o.type==="key_moments"){console.log("[WebSocket] Received key moments message:",o),window.dispatchEvent(new CustomEvent("websocket-key-moments",{detail:o}));return}if(o.type==="win_probability"){console.log("[WebSocket] Received win probability message:",o),window.dispatchEvent(new CustomEvent("websocket-win-probability",{detail:o}));return}const a=o;this.listeners.forEach(n=>n(a))}catch(o){ne.error("Error parsing WebSocket message",o),console.error("[WebSocket] Error parsing message:",o,s.data)}},this.socket.onerror=s=>{ne.error("WebSocket connection error",s)},this.socket.onclose=s=>{ne.info(`WebSocket disconnected (code: ${s.code}, reason: ${s.reason||"none"})`),this.socket=null,this.shouldReconnect&&this.url&&s.code!==1e3&&(ne.info("Reconnecting in 5 seconds..."),setTimeout(()=>{this.shouldReconnect&&this.url&&!this.socket&&this.connect(this.url)},5e3))})}subscribe(t){this.listeners.add(t)}unsubscribe(t){this.listeners.delete(t)}disconnect(){this.shouldReconnect=!1,this.socket&&(this.socket.close(),this.socket=null),this.url=null}}const Ot=new ti;class Gs{constructor(){Ge(this,"socket",null);Ge(this,"currentGameId",null);Ge(this,"listeners",new Set);Ge(this,"shouldReconnect",!0)}connect(t){if(this.socket&&this.socket.readyState===WebSocket.OPEN&&this.currentGameId===t)return;this.socket&&this.currentGameId!==t&&this.disconnect(),this.socket&&(this.socket.close(),this.socket=null),this.shouldReconnect=!0,this.currentGameId=t;const s=Ts(`/api/v1/ws/${t}/play-by-play`);this.socket=new WebSocket(s),this.socket.onopen=()=>{ne.info(`Play-by-play WebSocket connected for game ${t}`)},this.socket.onmessage=o=>{try{const a=JSON.parse(o.data);this.listeners.forEach(n=>n(a))}catch(a){ne.error("Error parsing play-by-play WebSocket message",a)}},this.socket.onerror=o=>{ne.error("Play-by-play WebSocket connection error",o)},this.socket.onclose=o=>{ne.info(`Play-by-play WebSocket disconnected for game ${t} (code: ${o.code}, reason: ${o.reason||"none"})`),this.socket=null,this.shouldReconnect&&this.currentGameId&&o.code!==1e3&&(ne.info("Reconnecting play-by-play in 5 seconds..."),setTimeout(()=>{this.shouldReconnect&&this.currentGameId&&!this.socket&&this.connect(this.currentGameId)},5e3))}}subscribe(t){this.listeners.add(t)}unsubscribe(t){this.listeners.delete(t)}disconnect(){this.shouldReconnect=!1,this.socket&&(this.socket.close(),this.socket=null),this.currentGameId=null}}const ri=e=>{if(!e)return[];const t=e.split(/[.;!]/).map(s=>s.trim()).filter(s=>s.length>0);if(t.length>1)return t;if(e.length>120){const s=e.split(",").map(o=>o.trim()).filter(o=>o.length>0);if(s.length>1&&s.every(o=>o.length<80))return s}return[e]},si=e=>{if(!e||!e.text)return!1;if(e.type==="lead_change")return!0;const t=e.text.toLowerCase();return["took the lead","takes the lead","taken the lead","took a lead","takes a lead","regained the lead","retook the lead","lead changed","lead changes","now leads","leading"].some(o=>t.includes(o))},oi=({insight:e,onWhyClick:t})=>{const s=Ee(),o=e&&e.type!=="none"&&e.text,a=l.useMemo(()=>!o||!e.text?[]:ri(e.text),[o,e==null?void 0:e.text]),n=l.useMemo(()=>si(e),[e]),i=N(s.palette.primary.main,.6);return o?r.jsx(p,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",flex:1,minWidth:0,px:{xs:1,sm:2},py:{xs:1,sm:1}},children:r.jsx(Gt,{in:!0,timeout:300,children:r.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:{xs:.75,sm:1},width:"100%",position:"relative",pl:{xs:1.5,sm:2},borderLeft:`2px solid ${N(s.palette.primary.main,.3)}`},children:a.map((m,d)=>r.jsxs(p,{sx:{display:"flex",alignItems:"flex-start",gap:1},children:[r.jsx(p,{sx:{width:4,height:4,borderRadius:"50%",backgroundColor:N(s.palette.primary.main,.4),mt:{xs:.5,sm:.625},flexShrink:0}}),r.jsxs(y,{variant:"body2",sx:{fontSize:{xs:"0.8125rem",sm:"0.875rem"},color:"text.primary",fontWeight:c.weight.regular,lineHeight:1.5,letterSpacing:c.letterSpacing.normal,whiteSpace:"normal",wordBreak:"break-word",overflow:"hidden"},children:[m,d===a.length-1&&n&&t&&r.jsxs(r.Fragment,{children:[" ",r.jsx(gr,{component:"button",onClick:u=>{u.stopPropagation(),t()},sx:{color:i,textDecoration:"none",fontSize:"inherit",fontWeight:c.weight.medium,cursor:"pointer",ml:.5,"&:hover":{textDecoration:"underline",opacity:.8}},children:"Why?"})]})]})]},d))})})}):null},ai=({open:e,onClose:t,explanation:s,homeTeam:o,awayTeam:a})=>{const n=Ee();return s?r.jsxs(Oa,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:D.md,m:{xs:2,sm:3}}},"aria-labelledby":"lead-change-dialog-title","aria-describedby":"lead-change-dialog-description",children:[r.jsxs(Za,{id:"lead-change-dialog-title",sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pb:1.5},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(_s,{sx:{color:n.palette.warning.main,fontSize:20}}),r.jsx(y,{variant:"h6",sx:{fontWeight:c.weight.semibold,fontSize:c.size.h6},children:"Why did the lead change?"})]}),r.jsx(Ve,{onClick:t,sx:{minWidth:"auto",p:.5,color:"text.secondary","&:hover":{color:"text.primary",backgroundColor:"action.hover"}},"aria-label":"Close dialog",children:r.jsx(jr,{})})]}),r.jsx(qe,{}),r.jsx(Va,{sx:{pt:2.5,pb:1},children:r.jsxs(p,{id:"lead-change-dialog-description",children:[s.summary&&r.jsx(y,{variant:"body1",sx:{fontSize:c.size.body,fontWeight:c.weight.medium,color:"text.primary",lineHeight:1.6,mb:2.5},children:s.summary}),s.key_factors&&s.key_factors.length>0&&r.jsxs(p,{children:[r.jsx(y,{variant:"subtitle2",sx:{fontSize:c.size.bodySmall,fontWeight:c.weight.semibold,color:"text.secondary",mb:1.5,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Key Factors"}),r.jsx(mo,{dense:!0,sx:{py:0},children:s.key_factors.map((i,m)=>r.jsxs(uo,{sx:{px:0,py:.75,alignItems:"flex-start"},children:[r.jsx(vn,{sx:{minWidth:32,mt:.25},children:r.jsx(p,{sx:{width:6,height:6,borderRadius:"50%",backgroundColor:n.palette.primary.main}})}),r.jsx(po,{primary:r.jsx(y,{variant:"body2",sx:{fontSize:c.size.bodySmall,color:"text.primary",lineHeight:1.5},children:i})})]},m))})]})]})}),r.jsx(qe,{}),r.jsx(Ba,{sx:{px:2.5,py:1.5},children:r.jsx(Ve,{onClick:t,variant:"outlined",sx:{textTransform:"none",fontWeight:c.weight.medium,borderRadius:D.sm},children:"Close"})})]}):null},ni=({moment:e,onClick:t})=>{const s=Ee(),o=()=>{switch(e.type){case"game_tying_shot":return{icon:ei,label:"Tied",color:s.palette.warning.main};case"lead_change":return{icon:wr,label:"Lead Change",color:s.palette.primary.main};case"scoring_run":return{icon:os,label:"Run",color:s.palette.error.main};case"clutch_play":return{icon:qn,label:"Clutch",color:s.palette.secondary.main};case"big_shot":return{icon:Qn,label:"Big Shot",color:s.palette.info.main};default:return{icon:os,label:"Key Moment",color:s.palette.primary.main}}},{icon:a,label:n,color:i}=o(),m=N(i,.8);return r.jsx(Gt,{in:!0,timeout:300,children:r.jsx(Fe,{icon:r.jsx(a,{sx:{fontSize:14,color:m}}),label:n,onClick:t,size:"small",sx:{height:24,fontSize:c.size.captionSmall,fontWeight:c.weight.semibold,backgroundColor:N(i,.1),color:m,border:`1px solid ${N(i,.3)}`,borderRadius:D.xs,cursor:t?"pointer":"default",transition:ge.normal,"&:hover":t?{backgroundColor:N(i,.2),borderColor:N(i,.5)}:{},"& .MuiChip-icon":{marginLeft:.5}}})})};var Fs=e=>null;Fs.displayName="Cell";var ii=(e,t,s)=>{var o=Ft();return(a,n)=>i=>{e==null||e(a,n,i),o(So({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:s}))}},li=e=>{var t=Ft();return(s,o)=>a=>{e==null||e(s,o,a),t(jo())}},ci=(e,t,s)=>{var o=Ft();return(a,n)=>i=>{e==null||e(a,n,i),o(wo({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:s}))}};function as(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,o)}return s}function ns(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?as(Object(s),!0).forEach(function(o){di(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):as(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}function di(e,t,s){return(t=mi(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function mi(e){var t=ui(e,"string");return typeof t=="symbol"?t:t+""}function ui(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var o=s.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nt(){return Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)({}).hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},Nt.apply(null,arguments)}var pi=(e,t,s,o,a,n,i)=>{var{x1:m,x2:d,y1:u,y2:g}=i;if(a==null||n==null)return null;var x=Ro({x:a,y:n}),f={x:e?x.x.apply(m,{position:"start"}):x.x.rangeMin,y:s?x.y.apply(u,{position:"start"}):x.y.rangeMin},S={x:t?x.x.apply(d,{position:"end"}):x.x.rangeMax,y:o?x.y.apply(g,{position:"end"}):x.y.rangeMax};return i.ifOverflow==="discard"&&(!x.isInRange(f)||!x.isInRange(S))?null:Po(f,S)},xi=(e,t)=>{var s;return l.isValidElement(e)?s=l.cloneElement(e,t):typeof e=="function"?s=e(t):s=l.createElement(Lo,Nt({},t,{className:"recharts-reference-area-rect"})),s};function hi(e){var t=Ft();return l.useEffect(()=>(t(Co(e)),()=>{t(ko(e))})),null}function fi(e){var{x1:t,x2:s,y1:o,y2:a,className:n,shape:i,xAxisId:m,yAxisId:d}=e,u=To(),g=Tr(),x=Dt(B=>Gr(B,"xAxis",m,g)),f=Dt(B=>Gr(B,"yAxis",d,g));if(x==null||f==null)return null;var S=Lt(t),v=Lt(s),h=Lt(o),j=Lt(a);if(!S&&!v&&!h&&!j&&!i)return null;var b=pi(S,v,h,j,x,f,e);if(!b&&!i)return null;var w=e.ifOverflow==="hidden",C=w?"url(#".concat(u,")"):void 0;return l.createElement(Ir,{zIndex:e.zIndex},l.createElement(ut,{className:pe("recharts-reference-area",n)},xi(i,ns(ns({clipPath:C},Io(e)),b)),b!=null&&l.createElement(zo,Nt({},b,{lowerWidth:b.width,upperWidth:b.width}),l.createElement(_o,{label:e.label}),e.children)))}var gi={ifOverflow:"discard",xAxisId:0,yAxisId:0,radius:0,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1,zIndex:kr.area};function Hs(e){var t=Cr(e,gi);return l.createElement(l.Fragment,null,l.createElement(hi,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2}),l.createElement(fi,t))}Hs.displayName="ReferenceArea";var bi=["option","isActive"];function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)({}).hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},It.apply(null,arguments)}function yi(e,t){if(e==null)return{};var s,o,a=vi(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)s=n[o],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function vi(e,t){if(e==null)return{};var s={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;s[o]=e[o]}return s}function Si(e){var{option:t,isActive:s}=e,o=yi(e,bi);return typeof t=="string"?l.createElement(Fr,It({option:l.createElement(Wo,It({type:t},o)),isActive:s,shapeType:"symbols"},o)):l.createElement(Fr,It({option:t,isActive:s,shapeType:"symbols"},o))}var ji=(e,t,s,o,a,n,i)=>Ps(e,"xAxis",t,i),wi=(e,t,s,o,a,n,i)=>Ls(e,"xAxis",t,i),Ci=(e,t,s,o,a,n,i)=>Ps(e,"yAxis",s,i),ki=(e,t,s,o,a,n,i)=>Ls(e,"yAxis",s,i),Ti=(e,t,s,o)=>Oo(e,"zAxis",o,!1),Ii=(e,t,s,o,a)=>a,zi=(e,t,s,o,a,n)=>n,_i=(e,t,s,o,a,n,i)=>Ao(e,void 0,void 0,i),Ri=Rs([$o,Ii],(e,t)=>e.filter(s=>s.type==="scatter").find(s=>s.id===t)),Pi=Rs([_i,ji,wi,Ci,ki,Ti,Ri,zi],(e,t,s,o,a,n,i,m)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:g}=e;if(i!=null){var x;if((i==null?void 0:i.data)!=null&&i.data.length>0?x=i.data:x=d==null?void 0:d.slice(u,g+1),!(x==null||t==null||o==null||s==null||a==null||(s==null?void 0:s.length)===0||(a==null?void 0:a.length)===0))return Ui({displayedData:x,xAxis:t,yAxis:o,zAxis:n,scatterSettings:i,xAxisTicks:s,yAxisTicks:a,cells:m})}}),Li=["id"],Wi=["onMouseEnter","onClick","onMouseLeave"],Ai=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function yr(e,t){if(e==null)return{};var s,o,a=Oi(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)s=n[o],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Oi(e,t){if(e==null)return{};var s={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;s[o]=e[o]}return s}function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)({}).hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},rt.apply(null,arguments)}function is(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,o)}return s}function he(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?is(Object(s),!0).forEach(function(o){$i(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):is(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}function $i(e,t,s){return(t=Ei(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ei(e){var t=Mi(e,"string");return typeof t=="symbol"?t:t+""}function Mi(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var o=s.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Di=e=>{var{dataKey:t,name:s,fill:o,legendType:a,hide:n}=e;return[{inactive:n,dataKey:t,type:a,color:o,value:Ws(s,t),payload:e}]},Bi=l.memo(e=>{var{dataKey:t,points:s,stroke:o,strokeWidth:a,fill:n,name:i,hide:m,tooltipType:d,id:u}=e,g={dataDefinedOnItem:s==null?void 0:s.map(x=>x.tooltipPayload),positions:s==null?void 0:s.map(x=>x.tooltipPosition),settings:{stroke:o,strokeWidth:a,fill:n,nameKey:void 0,dataKey:t,name:Ws(i,t),hide:m,type:d,color:n,unit:"",graphicalItemId:u}};return l.createElement(Fo,{tooltipEntrySettings:g})});function Ni(e){var{points:t,props:s}=e,{line:o,lineType:a,lineJointType:n}=s;if(!o)return null;var i=As(s),m=sa(o),d,u;if(a==="joint")d=t.map(j=>{var b,w;return{x:(b=j.cx)!==null&&b!==void 0?b:null,y:(w=j.cy)!==null&&w!==void 0?w:null}});else if(a==="fitting"){var{xmin:g,xmax:x,a:f,b:S}=oa(t),v=j=>f*j+S;d=[{x:g,y:v(g)},{x,y:v(x)}]}var h=he(he(he({},i),{},{fill:"none",stroke:i&&i.fill},m),{},{points:d});return l.isValidElement(o)?u=l.cloneElement(o,h):typeof o=="function"?u=o(h):u=l.createElement(aa,rt({},h,{type:n})),l.createElement(ut,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function Gi(e){var{showLabels:t,points:s,children:o}=e,a=Yo(),n=l.useMemo(()=>s==null?void 0:s.map(i=>{var m,d,u={x:(m=i.x)!==null&&m!==void 0?m:0,y:(d=i.y)!==null&&d!==void 0?d:0,width:i.width,height:i.height,lowerWidth:i.width,upperWidth:i.width};return he(he({},u),{},{value:void 0,payload:i.payload,viewBox:u,parentViewBox:a,fill:void 0})}),[a,s]);return l.createElement(Zo,{value:t?n:void 0},o)}function Fi(e){var{points:t,allOtherScatterProps:s}=e,{shape:o,activeShape:a,dataKey:n}=s,{id:i}=s,m=yr(s,Li),d=Dt(Jo),{onMouseEnter:u,onClick:g,onMouseLeave:x}=s,f=yr(s,Wi),S=ii(u,n,i),v=li(x),h=ci(g,n,i);if(!Qo(t))return null;var j=As(m);return l.createElement(l.Fragment,null,l.createElement(Ni,{points:t,props:m}),t.map((b,w)=>{var C=a!=null&&a!==!1,B=C&&d===String(w),q=C&&B?a:o,I=he(he(he({},j),b),{},{[ta]:w,[ea]:String(i)});return l.createElement(Ir,{key:"symbol-".concat(b==null?void 0:b.cx,"-").concat(b==null?void 0:b.cy,"-").concat(b==null?void 0:b.size,"-").concat(w),zIndex:B?kr.activeDot:void 0},l.createElement(ut,rt({className:"recharts-scatter-symbol"},ra(f,b,w),{onMouseEnter:S(b,w),onMouseLeave:v(b,w),onClick:h(b,w)}),l.createElement(Si,rt({option:q,isActive:B},I))))}))}function Hi(e){var{previousPointsRef:t,props:s}=e,{points:o,isAnimationActive:a,animationBegin:n,animationDuration:i,animationEasing:m}=s,d=t.current,u=Vo(s,"recharts-scatter-"),[g,x]=l.useState(!1),f=l.useCallback(()=>{x(!1)},[]),S=l.useCallback(()=>{x(!0)},[]),v=!g;return l.createElement(Gi,{showLabels:v,points:o},s.children,l.createElement(qo,{animationId:u,begin:n,duration:i,isActive:a,easing:m,onAnimationEnd:f,onAnimationStart:S,key:u},h=>{var j=h===1?o:o==null?void 0:o.map((b,w)=>{var C=d&&d[w];return C?he(he({},b),{},{cx:b.cx==null?void 0:Wt(C.cx,b.cx,h),cy:b.cy==null?void 0:Wt(C.cy,b.cy,h),size:Wt(C.size,b.size,h)}):he(he({},b),{},{size:Wt(0,b.size,h)})});return h>0&&(t.current=j),l.createElement(ut,null,l.createElement(Fi,{points:j,allOtherScatterProps:s,showLabels:v}))}),l.createElement(Xo,{label:s.label}))}function Ui(e){var{displayedData:t,xAxis:s,yAxis:o,zAxis:a,scatterSettings:n,xAxisTicks:i,yAxisTicks:m,cells:d}=e,u=wt(s.dataKey)?n.dataKey:s.dataKey,g=wt(o.dataKey)?n.dataKey:o.dataKey,x=a&&a.dataKey,f=a?a.range:Ko.range,S=f&&f[0],v=s.scale.bandwidth?s.scale.bandwidth():0,h=o.scale.bandwidth?o.scale.bandwidth():0;return t.map((j,b)=>{var w=$t(j,u),C=$t(j,g),B=!wt(x)&&$t(j,x)||"-",q=[{name:wt(s.dataKey)?n.name:s.name||String(s.dataKey),unit:s.unit||"",value:w,payload:j,dataKey:u,type:n.tooltipType},{name:wt(o.dataKey)?n.name:o.name||String(o.dataKey),unit:o.unit||"",value:C,payload:j,dataKey:g,type:n.tooltipType}];B!=="-"&&q.push({name:a.name||a.dataKey,unit:a.unit||"",value:B,payload:j,dataKey:x,type:n.tooltipType});var I=Hr({axis:s,ticks:i,bandSize:v,entry:j,index:b,dataKey:u}),T=Hr({axis:o,ticks:m,bandSize:h,entry:j,index:b,dataKey:g}),k=B!=="-"?a.scale(B):S,O=Math.sqrt(Math.max(k,0)/Math.PI);return he(he({},j),{},{cx:I,cy:T,x:I==null?void 0:I-O,y:T==null?void 0:T-O,width:2*O,height:2*O,size:k,node:{x:w,y:C,z:B},tooltipPayload:q,tooltipPosition:{x:I,y:T},payload:j},d&&d[b]&&d[b].props)})}var Ki=(e,t,s)=>({x:e.cx,y:e.cy,value:Number(s==="x"?e.node.x:e.node.y),errorVal:$t(e,t)});function Vi(e){var{hide:t,points:s,className:o,needClip:a,xAxisId:n,yAxisId:i,id:m}=e,d=l.useRef(null);if(t)return null;var u=pe("recharts-scatter",o),g=m;return l.createElement(Ir,{zIndex:e.zIndex},l.createElement(ut,{className:u,clipPath:a?"url(#clipPath-".concat(g,")"):void 0,id:m},a&&l.createElement("defs",null,l.createElement(Ho,{clipPathId:g,xAxisId:n,yAxisId:i})),l.createElement(Uo,{xAxisId:n,yAxisId:i,data:s,dataPointFormatter:Ki,errorBarOffset:0},l.createElement(ut,{key:"recharts-scatter-symbols"},l.createElement(Hi,{props:e,previousPointsRef:d})))))}var Us={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:kr.scatter};function qi(e){var t=Cr(e,Us),{animationBegin:s,animationDuration:o,animationEasing:a,hide:n,isAnimationActive:i,legendType:m,lineJointType:d,lineType:u,shape:g,xAxisId:x,yAxisId:f,zAxisId:S}=t,v=yr(t,Ai),{needClip:h}=No(x,f),j=l.useMemo(()=>Go(e.children,Fs),[e.children]),b=Tr(),w=Dt(C=>Pi(C,x,f,S,e.id,j,b));return h==null||w==null?null:l.createElement(l.Fragment,null,l.createElement(Bi,{dataKey:e.dataKey,points:w,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),l.createElement(Vi,rt({},v,{xAxisId:x,yAxisId:f,zAxisId:S,lineType:u,lineJointType:d,legendType:m,shape:g,hide:n,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:a,points:w,needClip:h})))}function Xi(e){var t=Cr(e,Us),s=Tr();return l.createElement(Mo,{id:t.id,type:"scatter"},o=>l.createElement(l.Fragment,null,l.createElement(Do,{legendPayload:Di(t)}),l.createElement(Bo,{type:"scatter",id:o,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:s}),l.createElement(qi,rt({},t,{id:o}))))}var Ks=l.memo(Xi,Eo);Ks.displayName="Scatter";var Yi=["axis"],Zi=l.forwardRef((e,t)=>l.createElement(na,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Yi,tooltipPayloadSearcher:ia,categoricalChartProps:e,ref:t}));const Vs=e=>{try{const s=e.replace("PT","").replace("S","").split("M");if(s.length===2){const o=parseInt(s[0],10)||0,a=parseFloat(s[1])||0;return o+a/60}return 0}catch{return 0}},Ji=(e,t)=>{const s=Vs(t),o=e<=4?`Q${e}`:`OT${e-4}`,a=Math.floor(s),n=Math.floor((s-a)*60);return`${o} ${a}:${n.toString().padStart(2,"0")}`},Qi=(e,t)=>{const s=Vs(t),o=e<=4?12:5;return(e<=4?(e-1)*12:4*12+(e-5)*5)+(o-s)},ls=e=>{if(!e)return 0;const t=parseInt(e,10);return isNaN(t)?0:t},el=e=>{const t=new Set;for(let s=0;s<e.length;s++){const o=e[s];let a=0,n=s;for(let i=s;i>=0;i--){const m=e[i];if(o.gameTime-m.gameTime>2)break;const u=Math.abs(o.homeScore-m.homeScore+(o.awayScore-m.awayScore));u>0&&(a+=u,n=i)}if(a>=6)for(let i=n;i<=s;i++)t.add(i)}return t},tl=({plays:e,homeTeam:t,awayTeam:s})=>{const o=Ee(),a=xo(o.breakpoints.down("sm")),n=l.useMemo(()=>{if(!e||e.length===0)return[];const I=[...e].sort((F,G)=>F.action_number-G.action_number),T=[];let k=0,O=0,U=0;for(const F of I){const G=ls(F.score_home),Y=ls(F.score_away),Z=G||k,ee=Y||O,ie=Z-ee,ce=Qi(F.period,F.clock),de=Ji(F.period,F.clock),Re=U!==0&&(U>0&&ie<=0||U<0&&ie>=0);T.push({time:de,gameTime:ce,differential:ie,homeScore:Z,awayScore:ee,isLeadChange:Re,isScoringRun:!1,period:F.period,clock:F.clock}),k=Z,O=ee,U=ie}return el(T).forEach(F=>{T[F]&&(T[F].isScoringRun=!0)}),T},[e]),i=o.palette.primary.main,m=o.palette.warning.main||"#ff9800",d=({active:I,payload:T})=>{if(I&&T&&T.length){const k=T[0].payload,O=k.differential>0?t:s,U=Math.abs(k.differential),K=k.differential===0;return r.jsxs(xe,{elevation:8,sx:{p:{xs:1.5,sm:2},backgroundColor:o.palette.mode==="dark"?"rgba(18, 18, 18, 0.95)":"rgba(255, 255, 255, 0.98)",border:"1px solid",borderColor:"divider",borderRadius:D.sm,boxShadow:o.palette.mode==="dark"?"0 8px 32px rgba(0, 0, 0, 0.6)":"0 8px 32px rgba(0, 0, 0, 0.15)",backdropFilter:"blur(10px)",maxWidth:{xs:280,sm:"none"}},children:[r.jsx(y,{variant:"caption",sx:{fontWeight:c.weight.bold,display:"block",mb:1,fontSize:{xs:"0.75rem",sm:"0.8125rem"},color:"text.primary"},children:k.time}),r.jsxs(p,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsxs(y,{variant:"caption",sx:{color:"text.primary",display:"block",fontWeight:c.weight.medium,fontSize:{xs:"0.7rem",sm:"0.75rem"},wordBreak:"break-word"},children:[t,": ",r.jsx("strong",{children:k.homeScore})," | ",s,": ",r.jsx("strong",{children:k.awayScore})]}),!K&&r.jsxs(y,{variant:"caption",sx:{color:k.differential>0?i:m,display:"block",fontWeight:c.weight.semibold},children:[O," leading by ",U]}),K&&r.jsx(y,{variant:"caption",sx:{color:"text.secondary",display:"block"},children:"Game tied"})]}),(k.isLeadChange||k.isScoringRun)&&r.jsxs(p,{sx:{mt:1,pt:1,borderTop:"1px solid",borderColor:"divider"},children:[k.isLeadChange&&r.jsx(y,{variant:"caption",sx:{color:o.palette.mode==="dark"?"rgba(255, 193, 7, 0.9)":"rgba(255, 152, 0, 0.9)",display:"block",fontWeight:c.weight.semibold},children:"Lead Change"}),k.isScoringRun&&r.jsx(y,{variant:"caption",sx:{color:o.palette.warning.main,display:"block",fontWeight:c.weight.semibold},children:"Scoring Run"})]})]})}return null};if(n.length===0)return r.jsx(xe,{elevation:0,sx:{p:3,backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:D.md},children:r.jsx(y,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No play-by-play data available"})});if(n.length<2)return r.jsx(xe,{elevation:0,sx:{p:3,backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:D.md},children:r.jsx(y,{variant:"body2",color:"text.secondary",textAlign:"center",children:"Not enough data to display momentum chart"})});const u=o.palette.divider,g=o.palette.text.secondary,x=n.map(I=>({...I,homeLeading:I.differential>0?I.differential:0,awayLeading:I.differential<0?I.differential:0})),f=Math.max(...n.map(I=>Math.abs(I.differential)),10),S=n.some(I=>I.differential>0),v=n.some(I=>I.differential<0),h=S&&!v,j=v&&!S,b=n.every(I=>I.differential===0),w=n[n.length-1],C=w?w.differential>0?{team:t,lead:w.differential}:w.differential<0?{team:s,lead:Math.abs(w.differential)}:{team:null,lead:0}:null,B=l.useMemo(()=>{const I=[];for(let T=0;T<n.length;T++)if(n[T].isLeadChange){const k=n[T].differential>0?t:s;I.push({index:T,team:k,time:n[T].time})}return I},[n,t,s]),q=l.useMemo(()=>{var O,U;const I=[];let T=((O=n[0])==null?void 0:O.differential)>0?"home":((U=n[0])==null?void 0:U.differential)<0?"away":"tied",k=0;for(let K=1;K<n.length;K++){const F=n[K].differential>0?"home":n[K].differential<0?"away":"tied";F!==T&&(T!=="tied"&&I.push({start:k,end:K-1,team:T}),k=K,T=F)}return T!=="tied"&&k<n.length&&I.push({start:k,end:n.length-1,team:T}),I},[n]);return r.jsxs(xe,{elevation:0,sx:{p:{xs:1.5,sm:2},backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:D.md},children:[r.jsxs(p,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},mb:2,gap:1},children:[r.jsx(y,{variant:"subtitle2",sx:{fontWeight:c.weight.semibold,color:"text.primary",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Game Momentum"}),r.jsxs(p,{sx:{display:"flex",gap:1,flexWrap:"wrap",width:{xs:"100%",sm:"auto"}},children:[h&&r.jsx(Fe,{label:a?`No ${s} data`:`Insufficient data for ${s}`,size:"small",sx:{backgroundColor:N(o.palette.warning.main,.1),color:o.palette.warning.main,fontWeight:c.weight.medium,fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},maxWidth:{xs:"100%",sm:"none"}}}),j&&r.jsx(Fe,{label:a?`No ${t} data`:`Insufficient data for ${t}`,size:"small",sx:{backgroundColor:N(o.palette.warning.main,.1),color:o.palette.warning.main,fontWeight:c.weight.medium,fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},maxWidth:{xs:"100%",sm:"none"}}}),b&&r.jsx(Fe,{label:"Game tied throughout",size:"small",sx:{backgroundColor:N(o.palette.text.secondary,.1),color:"text.secondary",fontWeight:c.weight.medium,fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},maxWidth:{xs:"100%",sm:"none"}}}),C&&!b&&r.jsx(Fe,{label:C.team?a?`${C.team} +${C.lead}`:`${C.team} leading by ${C.lead}`:"Game tied",size:"small",sx:{backgroundColor:C.team?C.lead>0?N(i,.1):N(m,.1):N(o.palette.text.secondary,.1),color:C.team?C.lead>0?i:m:"text.secondary",fontWeight:c.weight.semibold,fontSize:{xs:c.size.caption.xs,sm:c.size.caption.sm},border:`1px solid ${C.team?C.lead>0?N(i,.3):N(m,.3):"divider"}`,maxWidth:{xs:"100%",sm:"none"}}})]})]}),r.jsx(p,{sx:{width:"100%",height:{xs:300,sm:380}},children:r.jsx(la,{width:"100%",height:"100%",children:r.jsxs(Zi,{data:x,margin:{top:15,right:a?10:15,left:a?10:15,bottom:a?70:50},children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"homeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:i,stopOpacity:.35}),r.jsx("stop",{offset:"50%",stopColor:i,stopOpacity:.2}),r.jsx("stop",{offset:"100%",stopColor:i,stopOpacity:.05})]}),r.jsxs("linearGradient",{id:"awayGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:m,stopOpacity:.35}),r.jsx("stop",{offset:"50%",stopColor:m,stopOpacity:.2}),r.jsx("stop",{offset:"100%",stopColor:m,stopOpacity:.05})]})]}),r.jsx(ca,{strokeDasharray:"2 4",stroke:u,opacity:.25}),r.jsx(da,{dataKey:"time",stroke:g,tick:{fill:g,fontSize:a?10:11},angle:-45,textAnchor:"end",height:a?80:60,interval:a?Math.max(0,Math.floor((x.length-1)/4)):Math.max(0,Math.floor((x.length-1)/6)),tickCount:a?5:7}),r.jsx(ma,{stroke:g,tick:{fill:g,fontSize:a?10:11},domain:[-f,f],label:{value:"Score Differential",angle:-90,position:"insideLeft",style:{fill:g,fontSize:a?10:11}}}),r.jsx(ua,{content:r.jsx(d,{})}),q.map((I,T)=>{var U,K;if(I.team==="tied")return null;const k=I.team==="home"?0:-f,O=I.team==="home"?f:0;return r.jsx(Hs,{x1:(U=x[I.start])==null?void 0:U.time,x2:(K=x[I.end])==null?void 0:K.time,y1:k,y2:O,fill:I.team==="home"?N(i,.05):N(m,.05),stroke:"none"},`section-${T}`)}),r.jsx(Ur,{y:0,stroke:o.palette.mode==="dark"?"rgba(255, 255, 255, 0.4)":"rgba(0, 0, 0, 0.3)",strokeWidth:1.5,strokeDasharray:"4 4"}),B.map((I,T)=>{const k=x[I.index];return k?r.jsx(Ur,{x:k.time,stroke:o.palette.mode==="dark"?"rgba(255, 193, 7, 0.6)":"rgba(255, 152, 0, 0.6)",strokeWidth:1.5,strokeDasharray:"2 2",label:r.jsx(pa,{value:I.team,position:"top",offset:5,style:{fill:o.palette.mode==="dark"?"rgba(255, 193, 7, 0.9)":"rgba(255, 152, 0, 0.9)",fontSize:10,fontWeight:600}})},`lead-change-${T}`):null}),r.jsx(Kr,{type:"stepAfter",dataKey:"homeLeading",stroke:i,strokeWidth:2.5,fill:"url(#homeGradient)",isAnimationActive:!1,baseValue:0,connectNulls:!1,strokeOpacity:j?.3:1,fillOpacity:j?.1:1}),r.jsx(Kr,{type:"stepAfter",dataKey:"awayLeading",stroke:m,strokeWidth:2.5,fill:"url(#awayGradient)",isAnimationActive:!1,baseValue:0,connectNulls:!1,strokeOpacity:h?.3:1,fillOpacity:h?.1:1}),r.jsx(Ks,{data:x.filter((I,T)=>n[T].isLeadChange),dataKey:"differential",fill:o.palette.mode==="dark"?"rgba(255, 193, 7, 0.8)":"rgba(255, 152, 0, 0.8)",shape:I=>{const{cx:T,cy:k}=I;return r.jsx("circle",{cx:T,cy:k,r:3.5,fill:o.palette.mode==="dark"?"rgba(255, 193, 7, 0.9)":"rgba(255, 152, 0, 0.9)",stroke:o.palette.background.paper,strokeWidth:1.5})}})]})})}),r.jsxs(p,{sx:{display:"flex",gap:{xs:1.5,sm:3},mt:{xs:2,sm:2.5},justifyContent:"center",flexWrap:"wrap"},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:.75},children:[r.jsx(p,{sx:{width:{xs:12,sm:14},height:{xs:12,sm:14},borderRadius:"50%",backgroundColor:i,border:`2px solid ${o.palette.background.paper}`,boxShadow:`0 0 0 1px ${i}40`}}),r.jsxs(y,{variant:"caption",sx:{color:"text.primary",fontWeight:c.weight.medium,fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:[t," leading"]})]}),r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:.75},children:[r.jsx(p,{sx:{width:{xs:12,sm:14},height:{xs:12,sm:14},borderRadius:"50%",backgroundColor:m,border:`2px solid ${o.palette.background.paper}`,boxShadow:`0 0 0 1px ${m}40`}}),r.jsxs(y,{variant:"caption",sx:{color:"text.primary",fontWeight:c.weight.medium,fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:[s," leading"]})]}),r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:.75},children:[r.jsx(p,{sx:{width:{xs:9,sm:10},height:{xs:9,sm:10},borderRadius:"50%",backgroundColor:o.palette.mode==="dark"?"rgba(255, 193, 7, 0.9)":"rgba(255, 152, 0, 0.9)",border:`1.5px solid ${o.palette.background.paper}`}}),r.jsx(y,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"Lead change"})]})]})]})},rl=({game:e,onClick:t,isRecentlyUpdated:s=!1,isSelected:o=!1,onOpenBoxScore:a,onOpenPlayByPlay:n,insight:i,keyMoment:m,winProbability:d})=>{var ot,at,xt,ht,nt,ft,ke,Je,De,it,lt,gt,He,_t,bt,yt,vt,St;const u=Ee(),[g,x]=Vt.useState(!1),[f,S]=Vt.useState(null),v=ks(),h="homeTeam"in e,j=h?e.gameId:e.game_id,[b,w]=l.useState(null),[C,B]=l.useState(!1),[q,I]=l.useState([]),[T,k]=l.useState(!1),O=Vt.useRef(null),U=h?(ot=e.homeTeam)==null?void 0:ot.teamTricode:(at=e.home_team)==null?void 0:at.team_abbreviation,K=h?(xt=e.awayTeam)==null?void 0:xt.teamTricode:(ht=e.away_team)==null?void 0:ht.team_abbreviation,F=h?(nt=e.homeTeam)==null?void 0:nt.teamName:null,G=h?(ft=e.awayTeam)==null?void 0:ft.teamName:null,Y=h?((ke=e.homeTeam)==null?void 0:ke.score)??0:((Je=e.home_team)==null?void 0:Je.points)??0,Z=h?((De=e.awayTeam)==null?void 0:De.score)??0:((it=e.away_team)==null?void 0:it.points)??0,ee=h?(lt=e.homeTeam)==null?void 0:lt.teamId:(gt=e.home_team)==null?void 0:gt.team_id,ie=h?(He=e.awayTeam)==null?void 0:He.teamId:(_t=e.away_team)==null?void 0:_t.team_id,ce=h?(bt=e.homeTeam)==null?void 0:bt.wins:void 0,de=h?(yt=e.homeTeam)==null?void 0:yt.losses:void 0,Re=h?(vt=e.awayTeam)==null?void 0:vt.wins:void 0,Me=h?(St=e.awayTeam)==null?void 0:St.losses:void 0,Xe=h?e.gameStatusText:e.game_status||"",Ye=h?e.period:null,Ze=h?e.gameClock:null,Pe=Xe.toLowerCase(),te=h&&"gameStatus"in e&&e.gameStatus===2||Pe.includes("live")||Xe.match(/\b[1-4]q\b/i)&&!Pe.includes("final"),Ce=Pe.includes("final"),be=!te&&!Ce&&Y===0&&Z===0,ye="gameLeaders"in e?e.gameLeaders:null,zt=(()=>{if(h){if(e.gameEt)try{const M=Ct(e.gameEt);if(!isNaN(M.getTime()))return kt(M,"h:mm a")}catch{}if(e.gameTimeUTC)try{const M=Ct(e.gameTimeUTC);if(!isNaN(M.getTime()))return kt(M,"h:mm a")}catch{}return"TBD"}if(e.game_time_utc&&e.game_time_utc.trim()!=="")try{let M=Ct(e.game_time_utc);if(isNaN(M.getTime())&&(M=new Date(e.game_time_utc)),!isNaN(M.getTime()))return kt(M,"h:mm a")}catch(M){console.debug("Failed to parse game_time_utc:",e.game_time_utc,M)}if("gameTimeUTC"in e&&e.gameTimeUTC&&typeof e.gameTimeUTC=="string")try{const M=Ct(e.gameTimeUTC);if(!isNaN(M.getTime()))return kt(M,"h:mm a")}catch{}if(e.game_date)try{const M=Ct(e.game_date);if(!isNaN(M.getTime())&&(M.getHours()!==0||M.getMinutes()!==0))return kt(M,"h:mm a")}catch{}return"TBD"})(),Ut=()=>Ce?"FINAL":te&&Ye&&Ze?`${Ye}Q ${Ze}`:te?"LIVE":zt,Le={ATL:"/logos/ATL.svg",BOS:"/logos/BOS.svg",BKN:"/logos/BKN.svg",CHA:"/logos/CHA.svg",CHI:"/logos/CHI.svg",CLE:"/logos/CLE.svg",DAL:"/logos/DAL.svg",DEN:"/logos/DEN.svg",DET:"/logos/DET.svg",GSW:"/logos/GSW.svg",HOU:"/logos/HOU.svg",IND:"/logos/IND.svg",LAC:"/logos/LAC.svg",LAL:"/logos/LAL.svg",MEM:"/logos/MEM.svg",MIA:"/logos/MIA.svg",MIL:"/logos/MIL.svg",MIN:"/logos/MIN.svg",NOP:"/logos/NOP.svg",NYK:"/logos/NYK.svg",OKC:"/logos/OKC.svg",ORL:"/logos/ORL.svg",PHI:"/logos/PHI.svg",PHX:"/logos/PHX.svg",POR:"/logos/POR.svg",SAC:"/logos/SAC.svg",SAS:"/logos/SAS.svg",TOR:"/logos/TOR.svg",UTA:"/logos/UTA.svg",WAS:"/logos/WAS.svg",NBA:"/logos/NBA.svg"},st=(M,le)=>{M.stopPropagation(),le&&v(`/team/${le}`)};return l.useEffect(()=>{if(!te||!h||!j)return;const M=new Gs;O.current=M;const le=Te=>{if(Te!=null&&Te.plays&&Te.plays.length>0){const Ie=[...Te.plays].sort(($,R)=>R.action_number-$.action_number);w(Ie[0]),C&&I(Te.plays)}};return M.connect(j),M.subscribe(le),()=>{M.unsubscribe(le),M.disconnect()}},[te,h,j,C]),l.useEffect(()=>{if(!C||!j||q.length>0)return;(async()=>{k(!0);try{const le=await et(`${tt}/api/v1/scoreboard/game/${j}/play-by-play`,{},{maxRetries:2,retryDelay:1e3,timeout:3e4});le!=null&&le.plays&&le.plays.length>0&&I(le.plays)}catch(le){console.error("Failed to fetch play-by-play for momentum:",le)}finally{k(!1)}})()},[C,j,q.length]),r.jsxs(xe,{elevation:2,sx:{display:"flex",flexDirection:"column",gap:0,borderRadius:D.lg,overflow:"hidden",boxShadow:u.palette.mode==="dark"?$e.dark.md:$e.md,transition:ge.smooth,minHeight:{xs:100,sm:110},"&:hover":t?{boxShadow:u.palette.mode==="dark"?$e.dark.lg:$e.lg,transform:"translateY(-2px)"}:{}},children:[r.jsxs(p,{onClick:t,sx:{display:"flex",alignItems:"center",gap:{xs:1.5,sm:2},p:{xs:1.5,sm:2},minHeight:{xs:100,sm:110},cursor:t?"pointer":be?"not-allowed":"default",opacity:be?.7:1,backgroundColor:o?N(u.palette.primary.main,.06):"transparent",transition:ge.normal,...s&&{animation:"scoreUpdateFlash 0.6s ease-out","@keyframes scoreUpdateFlash":{"0%":{backgroundColor:"transparent"},"50%":{backgroundColor:N(u.palette.primary.main,.1)},"100%":{backgroundColor:"transparent"}}},"&:hover":t?{backgroundColor:o?N(u.palette.primary.main,.08):"action.hover"}:be?{opacity:.6}:{}},children:[r.jsxs(p,{sx:{minWidth:{xs:60,sm:70},display:"flex",flexDirection:"column",alignItems:"center",gap:.5},children:[te&&r.jsx(Bt,{sx:{fontSize:8,color:"error.main",animation:"pulse 2s ease-in-out infinite","@keyframes pulse":{"0%, 100%":{opacity:.5},"50%":{opacity:1}}}}),r.jsx(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},fontWeight:te?c.weight.bold:c.weight.regular,color:te?"error.main":"text.secondary",textAlign:"center"},children:Ut()})]}),r.jsx(qe,{orientation:"vertical",flexItem:!0,sx:{height:40}}),r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:1.5},flex:1,minWidth:0},children:[r.jsx(Qe,{src:Le[K||"NBA"]||Le.NBA,alt:`${K} logo`,onClick:M=>st(M,ie),sx:{width:{xs:32,sm:36},height:{xs:32,sm:36},cursor:ie?"pointer":"default",transition:ge.normal,"&:hover":ie?{transform:"scale(1.1)"}:{}}}),r.jsxs(p,{sx:{flex:1,minWidth:0},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:.5,flexWrap:"wrap"},children:[r.jsx(y,{variant:"body2",sx:{fontWeight:c.weight.semibold,fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:K}),Re!==void 0&&Me!==void 0&&r.jsxs(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},color:"text.secondary"},children:["(",Re,"-",Me,")"]})]}),G&&r.jsx(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},color:"text.secondary",display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:G})]}),r.jsx(y,{variant:"h6",sx:{fontWeight:c.weight.bold,fontSize:{xs:"1.25rem",sm:"1.5rem"},color:!be&&Z>Y?"primary.main":"text.primary",minWidth:{xs:40,sm:50},textAlign:"right"},children:be?"":Z})]}),r.jsx(qe,{orientation:"vertical",flexItem:!0,sx:{height:40}}),r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:1.5},flex:1,minWidth:0},children:[r.jsx(Qe,{src:Le[U||"NBA"]||Le.NBA,alt:`${U} logo`,onClick:M=>st(M,ee),sx:{width:{xs:32,sm:36},height:{xs:32,sm:36},cursor:ee?"pointer":"default",transition:ge.normal,"&:hover":ee?{transform:"scale(1.1)"}:{}}}),r.jsxs(p,{sx:{flex:1,minWidth:0},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:.5,flexWrap:"wrap"},children:[r.jsx(y,{variant:"body2",sx:{fontWeight:c.weight.semibold,fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:U}),ce!==void 0&&de!==void 0&&r.jsxs(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},color:"text.secondary"},children:["(",ce,"-",de,")"]})]}),F&&r.jsx(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},color:"text.secondary",display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:F})]}),r.jsx(y,{variant:"h6",sx:{fontWeight:c.weight.bold,fontSize:{xs:"1.25rem",sm:"1.5rem"},color:!be&&Y>Z?"primary.main":"text.primary",minWidth:{xs:40,sm:50},textAlign:"right"},children:be?"":Y})]})]}),ye&&(ye.homeLeaders||ye.awayLeaders)&&r.jsxs(p,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:2},pl:{xs:2,sm:2.5},pr:{xs:1.5,sm:2},pb:{xs:.75,sm:1},mb:0},children:[r.jsx(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},fontWeight:c.weight.semibold,color:"text.secondary",minWidth:{xs:"auto",sm:70},pt:{xs:0,sm:.5}},children:"Players to Watch"}),r.jsxs(p,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:2},flex:1,flexWrap:"wrap"},children:[ye.awayLeaders&&ye.awayLeaders.name&&r.jsx(cs,{leader:ye.awayLeaders,teamTricode:K||"",navigate:v,isLive:te,isFinal:Ce}),ye.homeLeaders&&ye.homeLeaders.name&&r.jsx(cs,{leader:ye.homeLeaders,teamTricode:U||"",navigate:v,isLive:te,isFinal:Ce})]})]}),te&&h&&(b||a||n)&&r.jsxs(p,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},gap:{xs:1.5,md:2},pl:{xs:2,sm:2.5},pr:{xs:1.5,sm:2},pb:{xs:1.5,sm:2},pt:1,borderTop:"1px solid",borderColor:"divider"},children:[b&&r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:1,flexShrink:0,minWidth:0,flex:1},children:[b.team_tricode&&r.jsx(Qe,{src:Le[b.team_tricode]||Le.NBA,alt:`${b.team_tricode} logo`,sx:{width:20,height:20,flexShrink:0}}),r.jsxs(y,{variant:"body2",sx:{fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm},color:"text.primary",fontWeight:c.weight.medium,lineHeight:1.4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",wordBreak:"break-word",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:[b.team_tricode?`${b.team_tricode} - `:"",b.description]})]}),(m||d)&&r.jsxs(p,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,flexShrink:0},children:[d&&r.jsx(Gt,{in:!0,timeout:300,children:r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:.75,px:1.25,py:.5,borderRadius:D.xs,backgroundColor:N(u.palette.primary.main,.1),border:`1px solid ${N(u.palette.primary.main,.3)}`,height:24,transition:ge.normal},children:[r.jsxs(p,{sx:{display:"flex",width:32,height:4,borderRadius:D.xs,overflow:"hidden",backgroundColor:N(u.palette.primary.main,.15)},children:[r.jsx(p,{sx:{flex:d.away_win_prob,backgroundColor:d.away_win_prob>d.home_win_prob?u.palette.primary.main:N(u.palette.primary.main,.4),transition:ge.smooth}}),r.jsx(p,{sx:{flex:d.home_win_prob,backgroundColor:d.home_win_prob>d.away_win_prob?u.palette.primary.main:N(u.palette.primary.main,.4),transition:ge.smooth}})]}),r.jsx(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},fontWeight:c.weight.semibold,color:N(u.palette.primary.main,.9),whiteSpace:"nowrap",minWidth:28},children:d.home_win_prob>d.away_win_prob?`${(d.home_win_prob*100).toFixed(0)}%`:`${(d.away_win_prob*100).toFixed(0)}%`})]})}),m&&r.jsx(ni,{moment:m})]}),(a||n||te||Ce)&&r.jsxs(p,{sx:{display:"flex",flexDirection:{xs:"row",md:"row"},flexWrap:{xs:"wrap",md:"nowrap"},gap:1,alignItems:"center",justifyContent:{xs:"flex-start",md:"flex-end"},flexShrink:0,ml:{xs:0,md:"auto"}},children:[(te||Ce)&&r.jsx(Ve,{variant:C?"contained":"outlined",size:"small",startIcon:C?r.jsx(_s,{}):r.jsx(wr,{}),onClick:M=>{M.stopPropagation(),B(!C)},sx:{borderRadius:D.sm,textTransform:"none",fontSize:{xs:c.size.caption.xs,sm:c.size.caption.sm},px:{xs:1.5,sm:ct.md},py:{xs:1,sm:ct.xs},minWidth:{xs:"calc(50% - 4px)",sm:"auto",md:100},minHeight:{xs:44,sm:32}},children:"Momentum"}),a&&r.jsx(Ve,{variant:"outlined",size:"small",startIcon:r.jsx(Bs,{}),onClick:M=>{M.stopPropagation(),a(j)},sx:{borderRadius:D.sm,textTransform:"none",fontSize:{xs:c.size.caption.xs,sm:c.size.caption.sm},px:{xs:1.5,sm:ct.md},py:{xs:1,sm:ct.xs},minWidth:{xs:"calc(50% - 4px)",sm:"auto",md:100},minHeight:{xs:44,sm:32}},children:"Box Score"}),n&&r.jsx(Ve,{variant:"outlined",size:"small",startIcon:r.jsx(Ns,{}),onClick:M=>{M.stopPropagation(),n(j)},sx:{borderRadius:D.sm,textTransform:"none",fontSize:{xs:c.size.caption.xs,sm:c.size.caption.sm},px:{xs:1.5,sm:ct.md},py:{xs:1,sm:ct.xs},minWidth:{xs:"calc(50% - 4px)",sm:"auto",md:120},minHeight:{xs:44,sm:32}},children:"Play-by-Play"})]})]}),te&&h&&r.jsx(p,{sx:{pl:{xs:2,sm:2.5},pr:{xs:1.5,sm:2},pt:1.5,pb:{xs:1.5,sm:2},borderTop:"1px solid",borderColor:"divider",backgroundColor:N(u.palette.primary.main,.02)},children:r.jsx(oi,{insight:i&&i.type!=="none"&&i.text?i:null,onWhyClick:(()=>{if(!i||!i.text)return;const M=i.type==="lead_change",le=i.text.toLowerCase(),Te=["took the lead","takes the lead","taken the lead","took a lead","takes a lead","regained the lead","retook the lead","lead changed","lead changes","now leads","leading"].some(Ie=>le.includes(Ie));if(M||Te)return async()=>{try{const Ie=await et(`${tt}/api/v1/scoreboard/game/${j}/lead-change`);Ie&&(S(Ie),x(!0))}catch(Ie){console.error("Failed to fetch lead change explanation:",Ie)}}})()})}),C&&(te||Ce)&&r.jsx(p,{sx:{pl:{xs:2,sm:2.5},pr:{xs:1.5,sm:2},pt:{xs:2,sm:2.5},pb:{xs:1.5,sm:2},borderTop:"1px solid",borderColor:"divider"},children:T?r.jsx(p,{sx:{minHeight:300,display:"flex",justifyContent:"center",alignItems:"center",py:4},children:r.jsx(se,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:D.md}})}):q.length>0?r.jsx(tl,{plays:q,homeTeam:F||U||"Home",awayTeam:G||K||"Away"}):r.jsx(xe,{elevation:0,sx:{p:3,backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:D.md},children:r.jsx(y,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No play-by-play data available for momentum chart"})})}),r.jsx(ai,{open:g,onClose:()=>x(!1),explanation:f,homeTeam:U||"",awayTeam:K||""})]})},cs=({leader:e,teamTricode:t,navigate:s,isLive:o=!1,isFinal:a=!1})=>{if(!e)return null;const n=e.personId&&e.personId>0,i=n?`https://cdn.nba.com/headshots/nba/latest/1040x760/${e.personId}.png`:"",m=u=>{u.stopPropagation(),n&&s(`/player/${e.personId}`)},d=e.name||"N/A";return r.jsxs(p,{onClick:m,sx:{display:"flex",alignItems:"center",gap:.75,cursor:n?"pointer":"default",transition:ge.normal,"&:hover":n?{opacity:.8}:{}},children:[n?r.jsx(gr,{component:Dr,to:`/player/${e.personId}`,sx:{textDecoration:"none"},children:r.jsx(Qe,{src:i,alt:e.name||"Player",sx:{width:{xs:24,sm:28,md:32},height:{xs:24,sm:28,md:32},border:"1px solid",borderColor:"divider"},onError:u=>{const g=u.currentTarget;g.onerror=null,g.src=""}})}):r.jsx(Qe,{sx:{width:{xs:24,sm:28,md:32},height:{xs:24,sm:28,md:32},backgroundColor:"action.disabledBackground",opacity:.5},children:r.jsx(Yn,{sx:{fontSize:16}})}),r.jsxs(p,{children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:.5,flexWrap:"wrap"},children:[n?r.jsx(gr,{component:Dr,to:`/player/${e.personId}`,sx:{color:"text.primary",fontWeight:c.weight.semibold,fontSize:c.size.caption,textDecoration:"none","&:hover":{color:"primary.main",textDecoration:"underline"}},children:d}):r.jsx(y,{variant:"caption",sx:{fontWeight:c.weight.semibold,fontSize:c.size.caption,color:"text.secondary"},children:d}),e.jerseyNum&&r.jsxs(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},color:"text.secondary"},children:["#",e.jerseyNum]}),r.jsxs(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},color:"text.secondary"},children:["- ",t]})]}),r.jsx(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm},color:"text.secondary",display:"block",fontFamily:"monospace"},children:o||a?`${Math.round(e.points)}PTS ${Math.round(e.rebounds)}REB ${Math.round(e.assists)}AST`:`${e.points?e.points.toFixed(1):"0.0"}PPG ${e.rebounds?e.rebounds.toFixed(1):"0.0"}RPG ${e.assists?e.assists.toFixed(1):"0.0"}APG`})]})]})},sl=({gameId:e,isLiveGame:t=!1})=>{const[s,o]=l.useState([]),[a,n]=l.useState(!1),[i,m]=l.useState(!1),d=l.useRef(null);if(l.useEffect(()=>{if(!e||t)return;(async()=>{m(!0);try{const f=await et(`${tt}/api/v1/scoreboard/game/${e}/play-by-play`,{},{maxRetries:2,retryDelay:1e3,timeout:3e4});if(n(!0),f!=null&&f.plays&&f.plays.length>0){const S=[...f.plays].sort((v,h)=>v.action_number-h.action_number);o(S.reverse())}else o([])}catch(f){ne.error("Failed to fetch play-by-play",f),n(!0),o([])}finally{m(!1)}})()},[e,t]),l.useEffect(()=>{if(!e||!t)return;const x=new Gs;d.current=x;const f=S=>{if(n(!0),S!=null&&S.plays&&S.plays.length>0){const v=[...S.plays].sort((h,j)=>h.action_number-j.action_number);o(v.reverse())}else o([])};return x.connect(e),x.subscribe(f),()=>{x.unsubscribe(f),x.disconnect()}},[e,t]),i)return r.jsx(p,{sx:{minHeight:300,display:"flex",flexDirection:"column",gap:1,py:{xs:2,sm:3}},children:[...Array(5)].map((x,f)=>r.jsx(se,{variant:"rectangular",height:60,sx:{borderRadius:1}},f))});if(!s.length&&a)return r.jsxs(p,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:{xs:6,sm:8},px:3},children:[r.jsx(p,{sx:{position:"relative",mb:3,animation:"pulse 2s ease-in-out infinite","@keyframes pulse":{"0%, 100%":{opacity:.4},"50%":{opacity:.8}}},children:r.jsx(Jn,{sx:{fontSize:80,color:"text.disabled",opacity:.3}})}),r.jsx(y,{variant:"h6",sx:{fontWeight:600,mb:1,textAlign:"center",color:"text.primary"},children:"No Play-by-Play Data"}),r.jsx(y,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",maxWidth:400},children:"Play-by-play data is not available for this game. Game may not have started yet."})]});if(!s.length)return null;const u=s.reduce((x,f)=>{const S=f.period||0;return x[S]||(x[S]=[]),x[S].push(f),x},{}),g=Object.keys(u).map(Number).sort((x,f)=>f-x);return r.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:{xs:3,sm:4}},children:g.map((x,f)=>{const S=u[x],v=x===0?"OT":x>4?`${x}OT`:`Q${x}`;return r.jsxs(p,{children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2,mb:2,pb:1.5,borderBottom:"2px solid",borderColor:"divider"},children:[r.jsx(Fe,{label:v,size:"small",sx:{backgroundColor:"primary.main",color:"primary.contrastText",fontWeight:700,fontSize:{xs:"0.75rem",sm:"0.8125rem"}}}),r.jsxs(y,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:[S.length," plays"]})]}),r.jsx(p,{sx:{position:"relative"},children:S.map(h=>{var w,C;const j=((w=h.action_type)==null?void 0:w.toLowerCase().includes("shot"))||((C=h.action_type)==null?void 0:C.toLowerCase().includes("free throw")),b=j;return r.jsx(p,{sx:{position:"relative",mb:{xs:2,sm:2.5}},children:r.jsx(xe,{elevation:0,sx:{p:{xs:1.5,sm:2},backgroundColor:b?"rgba(25, 118, 210, 0.05)":"background.paper",border:"none",borderRadius:2,transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:b?"rgba(25, 118, 210, 0.1)":"action.hover",transform:"translateX(4px)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}},children:r.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:1},children:r.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:{xs:1.5,sm:2},flexWrap:{xs:"wrap",sm:"nowrap"}},children:[r.jsxs(p,{sx:{flex:1,minWidth:0},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5,flexWrap:"wrap"},children:[h.team_tricode&&r.jsx(Fe,{label:h.team_tricode,size:"small",sx:{height:{xs:18,sm:20},fontSize:{xs:"0.65rem",sm:"0.7rem"},fontWeight:700,backgroundColor:"rgba(255, 255, 255, 0.1)",lineHeight:1}}),r.jsx(y,{variant:"caption",sx:{color:"text.secondary",fontWeight:600,fontSize:{xs:"0.7rem",sm:"0.75rem"},whiteSpace:"nowrap"},children:ol(h.clock)})]}),r.jsx(y,{variant:"body2",sx:{fontWeight:b?600:400,fontSize:{xs:"0.8125rem",sm:"0.875rem"},lineHeight:1.5,whiteSpace:"normal",wordBreak:"break-word",overflow:"hidden"},children:h.description||h.action_type})]}),h.score_home!==null&&h.score_away!==null&&r.jsxs(p,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"flex-start",sm:"flex-end"},gap:.5,flexShrink:0,minWidth:{xs:"100%",sm:"auto"},width:{xs:"100%",sm:"auto"},mt:{xs:.5,sm:0}},children:[r.jsxs(y,{variant:"caption",sx:{color:"primary.main",fontWeight:700,fontSize:{xs:"0.75rem",sm:"0.8125rem"},whiteSpace:"nowrap"},children:[h.score_away," - ",h.score_home]}),j&&r.jsx(Bt,{sx:{fontSize:6,color:"success.main",animation:"pulse 1s ease-in-out infinite","@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.5}}}})]})]})})})},h.action_number)})}),f<g.length-1&&r.jsx(qe,{sx:{my:{xs:3,sm:4}}})]},x)})})},ol=e=>{if(!e)return"";if(e.startsWith("PT")){const t=e.match(/PT(\d+)M(\d+(\.\d+)?)S/);if(t)return`${t[1]}:${parseFloat(t[2]).toFixed(0).padStart(2,"0")}`;const s=e.match(/PT(\d+)M/);if(s)return`${s[1]}:00`;const o=e.match(/PT(\d+)S/);if(o)return`0:${o[1].padStart(2,"0")}`}return e},al=({gameId:e,open:t,onClose:s,initialTab:o="box",gameInfo:a})=>{const[n,i]=l.useState(o);l.useEffect(()=>{t&&i(o)},[o,t]);const[m,d]=l.useState(null),[u,g]=l.useState(!1);l.useEffect(()=>{if(!e||!t)return;(async()=>{g(!0);try{const S=await et(`${tt}/api/v1/scoreboard/game/${e}/boxscore`,{},{maxRetries:3,retryDelay:1e3,timeout:3e4});d(S)}catch(S){ne.error("Failed to fetch game details",S),d(null)}finally{g(!1)}})()},[e,t]);const x=(f,S)=>r.jsxs(p,{sx:{mb:{xs:3,sm:4}},children:[r.jsx(xe,{elevation:0,sx:{p:{xs:2,sm:2.5},mb:2,backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:2},children:r.jsxs(p,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:2,sm:0}},children:[r.jsx(p,{sx:{display:"flex",alignItems:"center",gap:2},children:r.jsx(y,{variant:"h6",sx:{fontWeight:700,fontSize:{xs:"1.125rem",sm:"1.25rem"},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:f.team_name})}),r.jsx(p,{sx:{display:"flex",alignItems:"center",gap:2,width:{xs:"100%",sm:"auto"}},children:r.jsxs(p,{sx:{display:"flex",gap:{xs:1.5,sm:2},flexWrap:"wrap"},children:[r.jsx(Tt,{label:"PTS",value:f.score}),r.jsx(Tt,{label:"REB",value:f.rebounds_total}),r.jsx(Tt,{label:"AST",value:f.assists}),r.jsx(Tt,{label:"STL",value:f.steals}),r.jsx(Tt,{label:"BLK",value:f.blocks})]})})]})}),f.players.length>0?r.jsxs(xe,{elevation:0,sx:{backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:2,overflow:"hidden"},children:[r.jsxs(p,{sx:{display:{xs:"none",sm:"flex"},px:2,py:1.5,backgroundColor:"background.paper",borderBottom:"1px solid",borderColor:"divider",gap:1},children:[r.jsx(y,{variant:"caption",sx:{fontWeight:700,minWidth:120,color:"text.secondary"},children:"PLAYER"}),r.jsx(y,{variant:"caption",sx:{fontWeight:700,minWidth:50,textAlign:"center",color:"text.secondary"},children:"MIN"}),r.jsx(y,{variant:"caption",sx:{fontWeight:700,minWidth:50,textAlign:"center",color:"text.secondary"},children:"PTS"}),r.jsx(y,{variant:"caption",sx:{fontWeight:700,minWidth:50,textAlign:"center",color:"text.secondary"},children:"REB"}),r.jsx(y,{variant:"caption",sx:{fontWeight:700,minWidth:50,textAlign:"center",color:"text.secondary"},children:"AST"}),r.jsx(y,{variant:"caption",sx:{fontWeight:700,minWidth:50,textAlign:"center",color:"text.secondary"},children:"STL"}),r.jsx(y,{variant:"caption",sx:{fontWeight:700,minWidth:50,textAlign:"center",color:"text.secondary"},children:"BLK"}),r.jsx(y,{variant:"caption",sx:{fontWeight:700,minWidth:50,textAlign:"center",color:"text.secondary"},children:"TO"})]}),r.jsx(p,{children:f.players.map((v,h)=>r.jsxs(p,{sx:{display:"flex",px:{xs:2,sm:2},py:{xs:1.5,sm:1.75},backgroundColor:"background.paper",borderBottom:h<f.players.length-1?"1px solid":"none",borderColor:"divider",transition:"background-color 0.2s ease-in-out","&:hover":{backgroundColor:"action.hover"}},children:[r.jsxs(p,{sx:{flex:1,minWidth:0},children:[r.jsx(y,{variant:"body2",sx:{fontWeight:600,fontSize:{xs:"0.875rem",sm:"0.9375rem"},mb:{xs:.5,sm:0},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:v.name}),r.jsxs(p,{sx:{display:{xs:"flex",sm:"none"},gap:1.5,mt:.5,flexWrap:"wrap"},children:[r.jsxs(y,{variant:"caption",color:"text.secondary",sx:{whiteSpace:"nowrap"},children:[ds(v.minutes??null)," MIN"]}),r.jsxs(y,{variant:"caption",sx:{fontWeight:600,color:"primary.main",whiteSpace:"nowrap"},children:[v.points," PTS"]}),r.jsxs(y,{variant:"caption",color:"text.secondary",sx:{whiteSpace:"nowrap"},children:[v.rebounds," REB"]}),r.jsxs(y,{variant:"caption",color:"text.secondary",sx:{whiteSpace:"nowrap"},children:[v.assists," AST"]})]})]}),r.jsxs(p,{sx:{display:{xs:"none",sm:"flex"},gap:1,alignItems:"center"},children:[r.jsx(y,{variant:"body2",sx:{minWidth:50,textAlign:"center",color:"text.secondary"},children:ds(v.minutes??null)}),r.jsx(y,{variant:"body2",sx:{minWidth:50,textAlign:"center",fontWeight:600,color:"primary.main"},children:v.points}),r.jsx(y,{variant:"body2",sx:{minWidth:50,textAlign:"center",color:"text.secondary"},children:v.rebounds}),r.jsx(y,{variant:"body2",sx:{minWidth:50,textAlign:"center",color:"text.secondary"},children:v.assists}),r.jsx(y,{variant:"body2",sx:{minWidth:50,textAlign:"center",color:"text.secondary"},children:v.steals}),r.jsx(y,{variant:"body2",sx:{minWidth:50,textAlign:"center",color:"text.secondary"},children:v.blocks}),r.jsx(y,{variant:"body2",sx:{minWidth:50,textAlign:"center",color:"text.secondary"},children:v.turnovers})]})]},h))})]}):r.jsx(xe,{elevation:0,sx:{p:{xs:4,sm:6},textAlign:"center",backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:2},children:r.jsx(y,{variant:"body2",color:"text.secondary",children:"No player stats available. Game may not have started yet."})})]});return r.jsx(Is,{anchor:"right",open:t,onClose:s,PaperProps:{sx:{width:{xs:"100%",sm:"90%",md:"85%",lg:900},backgroundColor:"background.paper",borderLeft:"1px solid",borderColor:"divider",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.12)"}},children:r.jsxs(p,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[r.jsxs(p,{sx:{p:{xs:2.5,sm:3},borderBottom:"1px solid",borderColor:"divider",backgroundColor:"background.paper",position:"sticky",top:0,zIndex:1,backdropFilter:"blur(10px)"},children:[r.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(Mt,{onClick:s,size:"small",sx:{color:"text.secondary",minWidth:{xs:44,sm:40},minHeight:{xs:44,sm:40}},children:r.jsx(Un,{})}),r.jsx(y,{variant:"h6",sx:{fontWeight:700,fontSize:{xs:"1.125rem",sm:"1.25rem"}},children:"Game Details"})]}),r.jsx(Mt,{onClick:s,size:"small",sx:{color:"text.secondary",minWidth:{xs:44,sm:40},minHeight:{xs:44,sm:40}},children:r.jsx(jr,{})})]}),a&&r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[r.jsx(Fe,{label:a.status||"Game",size:"small",sx:{backgroundColor:"rgba(239, 83, 80, 0.15)",color:"error.main",fontWeight:600}}),r.jsxs(y,{variant:"body2",color:"text.secondary",children:[a.awayTeam," ",a.awayScore??0," - ",a.homeScore??0," ",a.homeTeam]})]})]}),r.jsx(p,{sx:{borderBottom:"1px solid",borderColor:"divider",backgroundColor:"background.paper",position:"sticky",top:{xs:88,sm:112},zIndex:1},children:r.jsxs(ha,{value:n,onChange:(f,S)=>i(S),sx:{px:{xs:2,sm:3},"& .MuiTab-root":{textTransform:"none",fontWeight:600,fontSize:{xs:"0.875rem",sm:"0.9375rem"},minHeight:{xs:48,sm:56},gap:1}},children:[r.jsx(Vr,{icon:r.jsx(Bs,{sx:{fontSize:20}}),iconPosition:"start",label:"Box Score",value:"box"}),r.jsx(Vr,{icon:r.jsx(Ns,{sx:{fontSize:20}}),iconPosition:"start",label:"Play by Play",value:"play"})]})}),r.jsx(p,{sx:{flex:1,overflow:"auto",p:{xs:2,sm:3,md:4}},children:u?r.jsxs(p,{sx:{minHeight:400,display:"flex",flexDirection:"column",gap:2,py:{xs:2,sm:3}},children:[r.jsx(se,{variant:"rectangular",height:60,sx:{borderRadius:D.md,mb:2}}),r.jsx(se,{variant:"rectangular",height:40,width:"100%",sx:{borderRadius:D.sm}}),r.jsx(se,{variant:"rectangular",height:300,width:"100%",sx:{borderRadius:D.md}})]}):n==="box"&&m?r.jsxs(r.Fragment,{children:[x(m.away_team),r.jsx(qe,{sx:{my:{xs:3,sm:4}}}),x(m.home_team)]}):n==="play"?r.jsx(sl,{gameId:e,isLiveGame:a!=null&&a.status?a.status.toLowerCase().includes("live")||a.status.toLowerCase().includes("in progress")||/\b[1-4]q\b/i.test(a.status)&&!a.status.toLowerCase().includes("final"):!1}):r.jsx(p,{sx:{textAlign:"center",py:{xs:6,sm:8}},children:r.jsx(y,{variant:"body1",color:"text.secondary",children:"No data available."})})})]})})},Tt=({label:e,value:t})=>r.jsxs(p,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.5},children:[r.jsx(y,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem",fontWeight:600},children:e}),r.jsx(y,{variant:"body2",sx:{fontWeight:700,fontSize:{xs:"0.875rem",sm:"1rem"}},children:t})]}),ds=e=>{if(!e)return"0:00";if(e.startsWith("PT")){const t=e.match(/PT(\d+)M(\d+(\.\d+)?)S/);if(t)return`${t[1]}:${parseFloat(t[2]).toFixed(0).padStart(2,"0")}`;const s=e.match(/PT(\d+)M/);if(s)return`${s[1]}:00`;const o=e.match(/PT(\d+)S/);if(o)return`0:${o[1].padStart(2,"0")}`}return e},nl=({games:e,winProbabilities:t})=>{const s=Ee(),o=e.filter(n=>n.gameStatus===2),a=o.length>0?void 0:120;return r.jsxs(p,{sx:{p:{xs:1.5,sm:2},pb:{xs:1,sm:1.5},minHeight:a,transition:"min-height 0.3s ease"},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:1.5},children:[r.jsx(wr,{sx:{fontSize:{xs:20,sm:24},color:"primary.main"}}),r.jsx(y,{variant:"h6",sx:{fontWeight:c.weight.bold,fontSize:{xs:c.size.h6.xs,sm:c.size.h6.sm},color:"text.primary",letterSpacing:"-0.01em"},children:"Live Win Probability"})]}),r.jsx(qe,{sx:{mb:2}}),o.length===0?r.jsx(p,{sx:{textAlign:"center",color:"text.secondary",py:2},children:r.jsx(y,{variant:"body2",sx:{fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm}},children:"No live games at the moment. Win probability will appear here when games are in progress."})}):r.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:3},children:o.map(n=>{const i=t.get(n.gameId),m=n.homeTeam,d=n.awayTeam;if(!i)return r.jsxs(p,{sx:{p:2,borderRadius:D.md,backgroundColor:"background.paper",border:"1px solid",borderColor:"divider"},children:[r.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[r.jsxs(y,{variant:"body2",sx:{fontWeight:c.weight.semibold,fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm}},children:[d.teamTricode," @ ",m.teamTricode]}),r.jsx(y,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm}},children:n.gameStatusText})]}),r.jsx(y,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm}},children:"Win probability data not available yet"})]},n.gameId);const u=i.home_win_prob*100,g=i.away_win_prob*100,x=u>g,f=Math.abs(u-g);return r.jsxs(p,{sx:{p:2,borderRadius:D.md,backgroundColor:"background.paper",border:"1px solid",borderColor:"divider"},children:[r.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsxs(y,{variant:"body2",sx:{fontWeight:c.weight.semibold,fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm}},children:[d.teamTricode," @ ",m.teamTricode]}),r.jsx(y,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm}},children:n.gameStatusText})]}),r.jsx(p,{sx:{mb:1.5},children:r.jsxs(p,{sx:{display:"flex",height:32,borderRadius:D.sm,overflow:"hidden",border:"1px solid",borderColor:"divider",backgroundColor:"background.default"},children:[r.jsx(p,{sx:{flex:g,display:"flex",alignItems:"center",justifyContent:"flex-start",px:1.5,backgroundColor:x?N(s.palette.primary.main,.1):N(s.palette.primary.main,.3),color:x?"text.secondary":"text.primary",transition:"all 0.3s ease"},children:r.jsxs(y,{variant:"caption",sx:{fontWeight:c.weight.semibold,fontSize:{xs:c.size.caption.xs,sm:c.size.caption.sm}},children:[d.teamTricode," ",g.toFixed(1),"%"]})}),r.jsx(p,{sx:{flex:u,display:"flex",alignItems:"center",justifyContent:"flex-end",px:1.5,backgroundColor:x?N(s.palette.primary.main,.3):N(s.palette.primary.main,.1),color:x?"text.primary":"text.secondary",transition:"all 0.3s ease"},children:r.jsxs(y,{variant:"caption",sx:{fontWeight:c.weight.semibold,fontSize:{xs:c.size.caption.xs,sm:c.size.caption.sm}},children:[u.toFixed(1),"% ",m.teamTricode]})})]})}),r.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:1},children:[r.jsxs(y,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm}},children:[m.teamTricode," ",m.score," - ",d.score," ",d.teamTricode]}),f<5&&r.jsx(y,{variant:"caption",sx:{color:"text.secondary",fontStyle:"italic",fontSize:{xs:c.size.captionSmall.xs,sm:c.size.captionSmall.sm}},children:"Very close game"})]})]},n.gameId)})})]})},il=({prediction:e,onClick:t})=>{const s=Ee(),o=qr(e.home_team_name),a=qr(e.away_team_name),n=Xr(e.home_team_name),i=Xr(e.away_team_name),m=e.home_win_probability*100,d=e.away_win_probability*100,u=m>d?"home":"away",g=u==="home"?m:d;return r.jsxs(xe,{elevation:1,onClick:t,sx:{p:{xs:2,sm:2.5},borderRadius:D.md,cursor:"pointer",transition:ge.smooth,mb:{xs:1.5,sm:2},boxShadow:s.palette.mode==="dark"?$e.dark.sm:$e.sm,"&:hover":{elevation:2,boxShadow:s.palette.mode==="dark"?$e.dark.md:$e.md,transform:"translateY(-2px)"},"&:active":{transform:"translateY(0px)"}},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,gap:{xs:1,sm:0}},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:1.5}},children:[r.jsx(Qe,{src:i,sx:{width:{xs:32,sm:36},height:{xs:32,sm:36},border:`2px solid ${N(s.palette.primary.main,.2)}`}}),r.jsx(y,{variant:"body1",sx:{fontWeight:c.weight.bold,fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm},color:"text.primary"},children:a})]}),r.jsx(y,{variant:"body2",sx:{fontWeight:c.weight.semibold,fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm},color:"text.secondary",px:{xs:.5,sm:1}},children:"@"}),r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:1.5}},children:[r.jsx(y,{variant:"body1",sx:{fontWeight:c.weight.bold,fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm},color:"text.primary"},children:o}),r.jsx(Qe,{src:n,sx:{width:{xs:32,sm:36},height:{xs:32,sm:36},border:`2px solid ${N(s.palette.primary.main,.2)}`}})]})]}),r.jsxs(p,{sx:{mb:1.5},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.75},children:[r.jsx(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.caption.sm},color:"text.secondary",fontWeight:c.weight.medium,textTransform:"uppercase",letterSpacing:c.letterSpacing.wider},children:"Win Probability"}),r.jsxs(y,{variant:"body2",sx:{fontWeight:c.weight.bold,fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm},color:"primary.main",whiteSpace:"nowrap"},children:[u==="home"?o:a," ",g.toFixed(0),"%"]})]}),r.jsx(cn,{variant:"determinate",value:g,sx:{height:6,borderRadius:D.full,backgroundColor:N(s.palette.primary.main,.1),"& .MuiLinearProgress-bar":{backgroundColor:g>=70?s.palette.success.main:g>=50?s.palette.primary.main:s.palette.warning.main,borderRadius:D.full}}})]}),r.jsxs(p,{children:[r.jsx(y,{variant:"caption",sx:{fontSize:{xs:c.size.captionSmall.xs,sm:c.size.caption.sm},color:"text.secondary",fontWeight:c.weight.medium,textTransform:"uppercase",letterSpacing:c.letterSpacing.wider,mb:.5,display:"block"},children:"Projected Score"}),r.jsxs(y,{variant:"body1",sx:{fontWeight:c.weight.bold,fontSize:{xs:c.size.body.xs,sm:c.size.body.sm},color:"text.primary",lineHeight:c.lineHeight.tight,wordBreak:"break-word",overflowWrap:"break-word"},children:[a," ",e.predicted_away_score," - ",e.predicted_home_score," ",o]})]})]})},ll=({open:e,onClose:t,predictions:s,loading:o,error:a,isUpdating:n=!1})=>{const i=ks(),m=Ee(),d=u=>{i(`/predictions?date=${u}`),t()};return r.jsx(Is,{anchor:"left",open:e,onClose:t,PaperProps:{sx:{width:{xs:"100%",sm:380,md:420},maxWidth:"100vw",borderRight:"1px solid",borderColor:"divider",boxShadow:m.palette.mode==="dark"?$e.dark.xl:$e.xl,borderRadius:0,borderTopRightRadius:D.lg,borderBottomRightRadius:D.lg,overflowX:"hidden"}},children:r.jsxs(p,{sx:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[r.jsxs(p,{sx:{p:{xs:2,sm:2.5},borderBottom:"1px solid",borderColor:"divider",display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:1.5,flex:1,minWidth:0,overflow:"hidden"},children:[r.jsx(br,{sx:{color:"primary.main",fontSize:{xs:24,sm:28},flexShrink:0}}),r.jsx(y,{variant:"h6",sx:{fontWeight:c.weight.bold,fontSize:{xs:c.size.h6.xs,sm:c.size.h6.sm},color:"text.primary",letterSpacing:c.letterSpacing.tight,flexShrink:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:"Predictions & Insights"}),s.length>0&&r.jsx(p,{sx:{px:1,py:.25,borderRadius:D.full,backgroundColor:N(m.palette.primary.main,.1),color:"primary.main",fontSize:c.size.caption,fontWeight:c.weight.semibold,flexShrink:0},children:s.length}),n&&s.length>0&&r.jsx(Fe,{icon:r.jsx(ho,{size:12,sx:{color:"primary.main"}}),label:"Updating",size:"small",sx:{ml:"auto",fontSize:"0.7rem",height:20,backgroundColor:N(m.palette.primary.main,.08),color:"primary.main",flexShrink:0,"& .MuiChip-icon":{marginLeft:"4px"}}})]}),r.jsx(Mt,{onClick:t,sx:{minWidth:{xs:44,sm:40},minHeight:{xs:44,sm:40},color:"text.secondary","&:hover":{backgroundColor:"action.hover",color:"text.primary"},transition:ge.smooth},children:r.jsx(jr,{})})]}),r.jsx(p,{sx:{flex:1,overflowY:"auto",p:{xs:2,sm:2.5},"@media (hover: hover)":{scrollbarWidth:"thin",scrollbarColor:`${m.palette.mode==="dark"?"rgba(255, 255, 255, 0.4)":"rgba(0, 0, 0, 0.4)"} ${m.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`,"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:m.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",borderRadius:D.xs},"&::-webkit-scrollbar-thumb":{backgroundColor:m.palette.mode==="dark"?"rgba(255, 255, 255, 0.4)":"rgba(0, 0, 0, 0.4)",borderRadius:D.xs,"&:hover":{backgroundColor:m.palette.mode==="dark"?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.6)"}}}},children:o&&s.length===0?r.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:2},children:[1,2,3].map(u=>r.jsxs(xe,{elevation:1,sx:{p:{xs:2,sm:2.5},borderRadius:D.md},children:[r.jsx(se,{variant:"rectangular",width:"60%",height:20,sx:{borderRadius:D.sm,mb:1.5}}),r.jsx(se,{variant:"rectangular",width:"100%",height:6,sx:{borderRadius:D.xs,mb:1}}),r.jsx(se,{variant:"rectangular",width:"80%",height:18,sx:{borderRadius:D.sm}})]},u))}):a&&s.length===0?r.jsx(p,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:4,textAlign:"center"},children:r.jsx(y,{variant:"body2",color:"error",sx:{fontSize:c.size.body},children:a})}):s.length===0?r.jsxs(p,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:6,textAlign:"center"},children:[r.jsx(br,{sx:{fontSize:{xs:48,sm:64},color:"text.disabled",opacity:.3,mb:2}}),r.jsx(y,{variant:"body1",sx:{color:"text.secondary",fontSize:c.size.body,mb:1},children:"No Predictions Available"}),r.jsx(y,{variant:"body2",sx:{color:"text.secondary",fontSize:c.size.bodySmall},children:"No predictions available for this date."})]}):r.jsx(p,{children:s.map(u=>r.jsx(il,{prediction:u,onClick:()=>d(u.game_date)},u.game_id))})})]})})};var er,ms;function qs(){if(ms)return er;ms=1;function e(t){var s=typeof t;return t!=null&&(s=="object"||s=="function")}return er=e,er}var tr,us;function cl(){if(us)return tr;us=1;var e=typeof Pt=="object"&&Pt&&Pt.Object===Object&&Pt;return tr=e,tr}var rr,ps;function Xs(){if(ps)return rr;ps=1;var e=cl(),t=typeof self=="object"&&self&&self.Object===Object&&self,s=e||t||Function("return this")();return rr=s,rr}var sr,xs;function dl(){if(xs)return sr;xs=1;var e=Xs(),t=function(){return e.Date.now()};return sr=t,sr}var or,hs;function ml(){if(hs)return or;hs=1;var e=/\s/;function t(s){for(var o=s.length;o--&&e.test(s.charAt(o)););return o}return or=t,or}var ar,fs;function ul(){if(fs)return ar;fs=1;var e=ml(),t=/^\s+/;function s(o){return o&&o.slice(0,e(o)+1).replace(t,"")}return ar=s,ar}var nr,gs;function Ys(){if(gs)return nr;gs=1;var e=Xs(),t=e.Symbol;return nr=t,nr}var ir,bs;function pl(){if(bs)return ir;bs=1;var e=Ys(),t=Object.prototype,s=t.hasOwnProperty,o=t.toString,a=e?e.toStringTag:void 0;function n(i){var m=s.call(i,a),d=i[a];try{i[a]=void 0;var u=!0}catch{}var g=o.call(i);return u&&(m?i[a]=d:delete i[a]),g}return ir=n,ir}var lr,ys;function xl(){if(ys)return lr;ys=1;var e=Object.prototype,t=e.toString;function s(o){return t.call(o)}return lr=s,lr}var cr,vs;function hl(){if(vs)return cr;vs=1;var e=Ys(),t=pl(),s=xl(),o="[object Null]",a="[object Undefined]",n=e?e.toStringTag:void 0;function i(m){return m==null?m===void 0?a:o:n&&n in Object(m)?t(m):s(m)}return cr=i,cr}var dr,Ss;function fl(){if(Ss)return dr;Ss=1;function e(t){return t!=null&&typeof t=="object"}return dr=e,dr}var mr,js;function gl(){if(js)return mr;js=1;var e=hl(),t=fl(),s="[object Symbol]";function o(a){return typeof a=="symbol"||t(a)&&e(a)==s}return mr=o,mr}var ur,ws;function bl(){if(ws)return ur;ws=1;var e=ul(),t=qs(),s=gl(),o=NaN,a=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,i=/^0o[0-7]+$/i,m=parseInt;function d(u){if(typeof u=="number")return u;if(s(u))return o;if(t(u)){var g=typeof u.valueOf=="function"?u.valueOf():u;u=t(g)?g+"":g}if(typeof u!="string")return u===0?u:+u;u=e(u);var x=n.test(u);return x||i.test(u)?m(u.slice(2),x?2:8):a.test(u)?o:+u}return ur=d,ur}var pr,Cs;function yl(){if(Cs)return pr;Cs=1;var e=qs(),t=dl(),s=bl(),o="Expected a function",a=Math.max,n=Math.min;function i(m,d,u){var g,x,f,S,v,h,j=0,b=!1,w=!1,C=!0;if(typeof m!="function")throw new TypeError(o);d=s(d)||0,e(u)&&(b=!!u.leading,w="maxWait"in u,f=w?a(s(u.maxWait)||0,d):f,C="trailing"in u?!!u.trailing:C);function B(G){var Y=g,Z=x;return g=x=void 0,j=G,S=m.apply(Z,Y),S}function q(G){return j=G,v=setTimeout(k,d),b?B(G):S}function I(G){var Y=G-h,Z=G-j,ee=d-Y;return w?n(ee,f-Z):ee}function T(G){var Y=G-h,Z=G-j;return h===void 0||Y>=d||Y<0||w&&Z>=f}function k(){var G=t();if(T(G))return O(G);v=setTimeout(k,I(G))}function O(G){return v=void 0,C&&g?B(G):(g=x=void 0,S)}function U(){v!==void 0&&clearTimeout(v),j=0,g=h=x=v=void 0}function K(){return v===void 0?S:O(t())}function F(){var G=t(),Y=T(G);if(g=arguments,x=this,h=G,Y){if(v===void 0)return q(h);if(w)return clearTimeout(v),v=setTimeout(k,d),B(h)}return v===void 0&&(v=setTimeout(k,d)),S}return F.cancel=U,F.flush=K,F}return pr=i,pr}var vl=yl();const Sl=so(vl),jl=Ts("/api/v1/ws"),Oe=()=>{const e=new Date().getTimezoneOffset()*6e4;return new Date(Date.now()-e).toISOString().slice(0,10)},dt=e=>{if("homeTeam"in e)return e.gameStatusText&&e.gameStatusText.toLowerCase().includes("final")?"completed":"live";if("game_status"in e&&typeof e.game_status=="string"){const t=e.game_status.toLowerCase();return t.includes("final")?"completed":t.includes("live")||t.includes("in progress")?"live":"upcoming"}return"upcoming"},El=()=>{var bt,yt,vt,St,M,le,Te,Ie;const[e,t]=l.useState([]),[s,o]=l.useState({players:[],teams:[]}),[a,n]=l.useState(!1),[i,m]=l.useState(!1),[d,u]=l.useState(null),[g,x]=l.useState(null),[f,S]=l.useState(Oe()),[v]=oo(),h=v.get("search")||"",[j,b]=l.useState(""),[w,C]=l.useState(!1),[B,q]=l.useState("all"),[I,T]=l.useState(new Set),[k,O]=l.useState(null),[U,K]=l.useState(!1),F=l.useRef(null),G=l.useRef(new Map),Y=l.useRef(new Map),Z=l.useRef(new Map),ee=l.useRef(!1),ie=l.useRef(""),ce=l.useRef(new Map),de=l.useRef([]),[Re,Me]=l.useState(new Map),[Xe,Ye]=l.useState(new Set),[Ze,Pe]=l.useState(new Map),[te,Ce]=l.useState(new Map),[be,ye]=l.useState(new Map),[Ht,zt]=l.useState(!1),[Ut,Le]=l.useState(null),{liveGames:st,upcomingGames:ot,completedGames:at}=l.useMemo(()=>{const $=e.filter(L=>{if(!h)return!0;const X="homeTeam"in L?L.homeTeam.teamName:L.home_team.team_abbreviation,W="awayTeam"in L?L.awayTeam.teamName:L.away_team.team_abbreviation;return X.toLowerCase().includes(h.toLowerCase())||W.toLowerCase().includes(h.toLowerCase())}),R=Oe();return f===R?{liveGames:$.filter(L=>dt(L)==="live"),upcomingGames:$.filter(L=>dt(L)==="upcoming"),completedGames:$.filter(L=>dt(L)==="completed")}:f<R?{liveGames:[],upcomingGames:[],completedGames:$}:{liveGames:[],upcomingGames:$,completedGames:[]}},[e,h,f]),xt=l.useCallback(()=>{if(f===Oe()){t([]),G.current.clear(),Y.current.clear(),T(new Set),Me(new Map),Ye(new Set),Pe(new Map);const $=W=>{var E,re;try{const P=W.detail;if(console.log("[Scoreboard] Received insights event:",P),P&&P.type==="insights")if(console.log("[Scoreboard] Insights message structure:",{hasData:!!P.data,hasInsights:!!(P.data&&P.data.insights),insightsLength:((re=(E=P.data)==null?void 0:E.insights)==null?void 0:re.length)||0}),P.data&&P.data.insights&&Array.isArray(P.data.insights)){console.log("[Scoreboard] Processing insights array:",P.data.insights);const _=new Map;P.data.insights.forEach((z,V)=>{console.log(`[Scoreboard] Processing insight ${V}:`,z),z&&z.game_id&&z.type&&z.type!=="none"&&z.text?(console.log(`[Scoreboard]  Adding insight for game ${z.game_id}:`,z),_.set(z.game_id,z)):console.log(`[Scoreboard]  Skipping insight ${V} - missing/invalid fields:`,{hasInsight:!!z,hasGameId:!!(z!=null&&z.game_id),gameId:z==null?void 0:z.game_id,type:z==null?void 0:z.type,hasText:!!(z!=null&&z.text),text:z==null?void 0:z.text})}),_.size>0?Me(z=>{const V=new Map(z);return _.forEach((J,ue)=>{V.set(ue,J)}),console.log("[Scoreboard] Updated game insights map. Total insights:",V.size),console.log("[Scoreboard] Insight keys:",Array.from(V.keys())),V}):console.log("[Scoreboard] No valid insights to add after filtering")}else console.log("[Scoreboard] No insights array found in data:",P);else console.log("[Scoreboard] Not an insights message or missing data:",P)}catch(P){console.error("[Scoreboard] Error parsing insights message",P),ne.error("Error parsing insights message",P)}},R=W=>{try{const E=W.detail;if(console.log("[Scoreboard] Received key moments event:",E),E&&E.type==="key_moments"&&E.data&&E.data.moments_by_game){const re=E.data.moments_by_game;console.log("[Scoreboard] Processing key moments for games:",Object.keys(re)),Pe(P=>{const _=new Map(P);return Object.entries(re).forEach(([z,V])=>{if(Array.isArray(V)&&V.length>0){const J=V[0];J&&(_.set(z,J),console.log(`[Scoreboard] Updated key moment for game ${z}:`,J.type))}}),_})}}catch(E){console.error("[Scoreboard] Error parsing key moments message",E),ne.error("Error parsing key moments message",E)}},L=W=>{try{const E=W.detail;if(console.log("[Scoreboard] Received win probability event:",E),E&&E.type==="win_probability"&&E.data&&E.data.probabilities_by_game){const re=E.data.probabilities_by_game;console.log("[Scoreboard] Processing win probabilities for games:",Object.keys(re)),Ce(P=>{const _=new Map(P);return Object.entries(re).forEach(([z,V])=>{if(V&&typeof V=="object"&&"home_win_prob"in V&&"away_win_prob"in V){const J=V;_.set(z,J),console.log(`[Scoreboard] Updated win probability for game ${z}:`,`Home ${(J.home_win_prob*100).toFixed(1)}%`)}}),_})}}catch(E){console.error("[Scoreboard] Error parsing win probability message",E),ne.error("Error parsing win probability message",E)}};window.addEventListener("websocket-insights",$),window.addEventListener("websocket-key-moments",R),window.addEventListener("websocket-win-probability",L),Ot.connect(jl);const X=W=>{if(!W||!W.scoreboard||!W.scoreboard.games){ne.warn("Invalid scoreboard data received from WebSocket",W);return}const E=new Set;t(re=>{const P=new Map;return re.forEach(_=>{const z="gameId"in _?_.gameId:_.game_id;P.set(z,_)}),W.scoreboard.games.forEach(_=>{var Rr,Pr,Lr,Wr,Ar,Or,$r,Er;const z="gameId"in _?_.gameId:_.game_id,V="homeTeam"in _,J=V?((Rr=_.homeTeam)==null?void 0:Rr.score)??0:((Pr=_.home_team)==null?void 0:Pr.points)??0,ue=V?((Lr=_.awayTeam)==null?void 0:Lr.score)??0:((Wr=_.away_team)==null?void 0:Wr.points)??0,We=V?_.gameStatusText:_.game_status||"",ve=We.toLowerCase(),Se=ve.includes("ot")&&!ve.includes("final"),Be=ve.includes("final"),Ue=J>0||ue>0,Ne=Math.abs(J-ue),Ae=V?(Ar=_.homeTeam)==null?void 0:Ar.teamName:(Or=_.home_team)==null?void 0:Or.team_abbreviation,_r=V?($r=_.awayTeam)==null?void 0:$r.teamName:(Er=_.away_team)==null?void 0:Er.team_abbreviation,Rt=`${_r||"Away"} vs ${Ae||"Home"}`,Kt=G.current.get(z);Kt?(Kt.homeScore!==J||Kt.awayScore!==ue)&&E.add(z):(J>0||ue>0)&&E.add(z);const jt=Y.current.get(z);if(jt)if(!jt.hasStarted&&Ue&&(ve.includes("live")||ve.match(/\b[1-4]q\b/)))O({message:`${Rt} has started!`,severity:"info"});else if(!jt.isOvertime&&Se&&!Be)O({message:`${Rt} is going to overtime!`,severity:"warning"});else if(!jt.isFinal&&Be){const Zs=J>ue?Ae:_r;O({message:`${Rt} - ${Zs} wins!`,severity:"success"})}else jt.differential>5&&Ne<=5&&Ue&&!Be&&O({message:`${Rt} is getting close! (${Ne} pts)`,severity:"info"});else Ue&&(ve.includes("live")||ve.match(/\b[1-4]q\b/));G.current.set(z,{homeScore:J,awayScore:ue}),Y.current.set(z,{status:We,isOvertime:Se,isFinal:Be,differential:Ne,hasStarted:Ue});const oe=Z.current.get(z);oe&&(oe.homeLeaders||oe.awayLeaders)&&(!_.gameLeaders||!_.gameLeaders.homeLeaders&&!_.gameLeaders.awayLeaders)&&(_.gameLeaders={homeLeaders:oe.homeLeaders?{personId:oe.homeLeaders.personId,name:oe.homeLeaders.name,jerseyNum:oe.homeLeaders.jerseyNum||"N/A",position:oe.homeLeaders.position||"N/A",teamTricode:oe.homeLeaders.teamTricode||"",points:oe.homeLeaders.points,rebounds:oe.homeLeaders.rebounds,assists:oe.homeLeaders.assists}:null,awayLeaders:oe.awayLeaders?{personId:oe.awayLeaders.personId,name:oe.awayLeaders.name,jerseyNum:oe.awayLeaders.jerseyNum||"N/A",position:oe.awayLeaders.position||"N/A",teamTricode:oe.awayLeaders.teamTricode||"",points:oe.awayLeaders.points,rebounds:oe.awayLeaders.rebounds,assists:oe.awayLeaders.assists}:null}),P.set(z,_)}),Array.from(P.values())}),E.size>0&&(T(E),setTimeout(()=>{T(re=>{const P=new Set(re);return E.forEach(_=>P.delete(_)),P})},2e3)),n(!1)};return Ot.subscribe(X),()=>{Ot.unsubscribe(X),Ot.disconnect(),window.removeEventListener("websocket-insights",$),window.removeEventListener("websocket-key-moments",R),window.removeEventListener("websocket-win-probability",L)}}return()=>{}},[f]);l.useEffect(()=>xt(),[xt]),l.useEffect(()=>{const $=new AbortController,R=Sl(async()=>{if(!j){o({players:[],teams:[]}),C(!1);return}m(!0),C(!0);try{const L=await et(`${tt}/api/v1/search?q=${j}`,{signal:$.signal},{maxRetries:2,retryDelay:500,timeout:15e3});o(L)}catch(L){L instanceof Error&&L.name!=="AbortError"&&ne.error("Error searching players and teams",L),o({players:[],teams:[]})}finally{m(!1)}},300);return R(),()=>{$.abort(),R.cancel()}},[j]),l.useEffect(()=>{t([]),G.current.clear(),Y.current.clear(),T(new Set),Z.current.clear(),(async R=>{n(!0);try{const L=await et(`${tt}/api/v1/schedule/date/${R}`,{},{maxRetries:3,retryDelay:1e3,timeout:3e4});R===Oe()&&(Z.current.clear(),L.games.forEach(X=>{X.gameLeaders&&Z.current.set(X.game_id,X.gameLeaders)})),t(L.games),u(null)}catch(L){ne.error("Error fetching games for date",L)}finally{n(!1)}})(f)},[f]);const ht=l.useCallback(($,R)=>{ye(L=>{const X=new Map(L);return $&&$.length>0&&$.forEach(W=>{W.game_date===R&&X.set(W.game_id,W)}),X})},[]);l.useEffect(()=>{const $=Oe();if(!(f>=$)){ye(new Map),Le(null),ee.current=!1,ie.current="",de.current=[];return}(async()=>{zt(!0),Le(null);try{const X=fa(),W=await et(`${tt}/api/v1/predictions/date/${f}?season=${X}`,{},{maxRetries:2,retryDelay:500,timeout:12e4});W&&W.predictions&&(ht(W.predictions,f),ee.current=!0)}catch(X){ne.error("Error fetching predictions",X),Le(X instanceof Error?X.message:"Failed to load predictions")}finally{zt(!1)}})()},[f,ht]);const nt=l.useMemo(()=>{const $=Array.from(be.values());if($.length===0)return[];const R=new Map,L=new Set($.map(P=>P.game_id));e.forEach(P=>{const _="gameId"in P?P.gameId:P.game_id;if(L.has(_)){const z=dt(P);R.set(_,z)}});let X=!1;if(R.size!==ce.current.size)X=!0;else for(const[P,_]of R.entries())if(ce.current.get(P)!==_){X=!0;break}if(!X&&de.current.length>0)return de.current;ce.current=new Map(R);const W=$.filter(P=>{if(e.length===0)return!0;const _=e.find(z=>{var We,ve,Se,Be;if(("gameId"in z?z.gameId:z.game_id)===P.game_id)return!0;const J="homeTeam"in z?(We=z.homeTeam)==null?void 0:We.teamId:(ve=z.home_team)==null?void 0:ve.team_id,ue="awayTeam"in z?(Se=z.awayTeam)==null?void 0:Se.teamId:(Be=z.away_team)==null?void 0:Be.team_id;return J===P.home_team_id&&ue===P.away_team_id||J===P.away_team_id&&ue===P.home_team_id});return _?dt(_)==="upcoming":!0}),E=W.map(P=>P.game_id).sort().join(","),re=ie.current;if(E!==re){if(W.length===0&&$.length>0&&re!==""){const P=de.current.length>0?de.current:W;return de.current=P,P}return ie.current=E,de.current=W,W}return de.current.length>0?de.current:W},[be,e]);l.useEffect(()=>{const $=R=>{F.current&&!F.current.contains(R.target)&&C(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[]);const ft=Oe(),ke=f===ft,Je=l.useMemo(()=>{if(!ke)return{totalGames:0,gamesInProgress:0};const $=e.length,R=e.filter(L=>{var V,J,ue,We;const W=("homeTeam"in L?L.gameStatusText:L.game_status||"").toLowerCase(),E=W.includes("live")||W.match(/\b[1-4]q\b/)&&!W.includes("final")||W.includes("ot")&&!W.includes("final"),re="homeTeam"in L,P=re?((V=L.homeTeam)==null?void 0:V.score)??0:((J=L.home_team)==null?void 0:J.points)??0,_=re?((ue=L.awayTeam)==null?void 0:ue.score)??0:((We=L.away_team)==null?void 0:We.points)??0,z=P>0||_>0;return E&&z}).length;return{totalGames:$,gamesInProgress:R}},[e,ke]),De=l.useCallback($=>B==="all"?$:$.filter(R=>{var P,_,z,V;const L="homeTeam"in R,X=L?((P=R.homeTeam)==null?void 0:P.score)??0:((_=R.home_team)==null?void 0:_.points)??0,W=L?((z=R.awayTeam)==null?void 0:z.score)??0:((V=R.away_team)==null?void 0:V.points)??0,E=Math.abs(X-W),re=L?R.gameStatusText:R.game_status||"";switch(B){case"close":return E<=10&&(X>0||W>0);case"blowout":return E>=20&&(X>0||W>0);case"overtime":return re.toLowerCase().includes("ot")||re.toLowerCase().includes("overtime");default:return!0}}),[B]),it=l.useMemo(()=>De(st),[st,De]),lt=l.useMemo(()=>De(ot),[ot,De]),gt=l.useMemo(()=>De(at),[at,De]),He=($,R,L,X)=>r.jsx(p,{sx:{mb:{xs:1.5,sm:2,md:2.5},mt:X?0:void 0,minHeight:R.length===0?0:void 0,visibility:R.length===0?"hidden":"visible",height:R.length===0?0:"auto",overflow:"hidden"},children:R.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:{xs:1.5,sm:2},mb:{xs:1,sm:1.5},pb:1,borderBottom:"1px solid",borderColor:"divider",minHeight:56},children:[L&&r.jsx(p,{sx:{color:"primary.main",display:"flex",alignItems:"center"},children:L}),r.jsx(y,{variant:"h6",sx:{fontWeight:c.weight.bold,fontSize:{xs:c.size.h6.xs,sm:c.size.h6.sm},color:"text.primary",letterSpacing:"-0.01em",flex:1},children:$})]}),r.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:{xs:2,sm:2.5,md:3},minHeight:{xs:200,sm:300}},children:R.map(W=>{const E="gameId"in W?W.gameId:W.game_id,re=I.has(E),_=dt(W)==="live",V=("homeTeam"in W?W.gameStatusText:W.game_status||"").toLowerCase().includes("final"),J=_||V,ue=J&&d?("gameId"in d?d.gameId:d.game_id)===E:!1,We=Ue=>{const Ne=e.find(Ae=>("gameId"in Ae?Ae.gameId:Ae.game_id)===Ue);Ne&&(u(Ne),x("box"))},ve=Ue=>{const Ne=e.find(Ae=>("gameId"in Ae?Ae.gameId:Ae.game_id)===Ue);Ne&&(u(Ne),x("play"))},Se=Xe.has(E)?null:Re.get(E)||null,Be=Ze.get(E)||null;return _&&(console.log(`[Scoreboard] Game ${E} - isLive: ${_}, insight:`,Se),Se?console.log(`[Scoreboard] Insight details - type: ${Se.type}, text: ${Se.text}, game_id: ${Se.game_id}`):console.log(`[Scoreboard] No insight for game ${E}. Available insights:`,Array.from(Re.keys()))),r.jsx(rl,{game:W,onClick:J?()=>u(W):void 0,isRecentlyUpdated:re,isSelected:ue,onOpenBoxScore:_||V?We:void 0,onOpenPlayByPlay:_||V?ve:void 0,insight:Se,keyMoment:Be,winProbability:_&&"gameId"in W&&te.get(W.gameId)||null},E)})})]})}),_t={searchInput:j,setSearchInput:b,searchResults:s,showSearchResults:w,setShowSearchResults:C,loading:i,searchContainerRef:F};return r.jsxs(p,{sx:{minHeight:"100dvh",backgroundColor:"background.default",display:"flex",flexDirection:"column",maxWidth:"100vw",overflowX:"hidden",overflowY:"visible",width:"100%"},children:[r.jsx(fo,{searchProps:_t}),r.jsxs(p,{sx:{maxWidth:"1400px",mx:"auto",px:{xs:1,sm:2,md:3,lg:4},pt:{xs:.5,sm:.75},pb:{xs:2,sm:3},width:"100%",overflowX:"hidden"},children:[r.jsx(p,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"stretch",sm:"center"},justifyContent:"space-between",gap:{xs:1.5,sm:2},mb:{xs:.25,sm:.5},minHeight:{xs:48,sm:56},flexShrink:0},children:r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:{xs:1.5,sm:2},flexShrink:0,flexWrap:"wrap"},children:[r.jsx(p,{sx:{flexShrink:0},children:r.jsx(xa,{selectedDate:f,setSelectedDate:S})}),f>=Oe()&&r.jsx(Mt,{onClick:()=>K(!0),sx:{minWidth:44,minHeight:44,color:"text.primary","&:hover":{backgroundColor:"action.hover"},transition:ge.smooth},"aria-label":"Open predictions and insights",children:r.jsx(ka,{badgeContent:nt.length,color:"primary",max:99,children:r.jsx(br,{})})})]})}),(()=>{const $=ke&&!a?e.filter(L=>!("homeTeam"in L)||!("gameStatus"in L)?!1:L.gameStatus===2):[],R=ke&&!a&&$.length>0&&te.size>0;return r.jsx(p,{sx:{mb:R?{xs:0,sm:.25}:0,mt:0,minHeight:R?{xs:200,sm:220}:0,height:R?"auto":0,transition:"opacity 0.3s ease",opacity:R?1:0,visibility:R?"visible":"hidden",overflow:"hidden"},children:R&&r.jsx(nl,{games:$,winProbabilities:te})})})(),r.jsx(p,{sx:{display:"flex",gap:{xs:2,sm:3},alignItems:"center",mb:{xs:.25,sm:.5},mt:0,flexWrap:"wrap",minHeight:48,visibility:ke?"visible":"hidden"},children:a&&ke?r.jsxs(r.Fragment,{children:[r.jsx(se,{variant:"text",width:100,height:24,sx:{borderRadius:D.xs}}),r.jsx(se,{variant:"text",width:80,height:24,sx:{borderRadius:D.xs}}),r.jsx(se,{variant:"rectangular",width:200,height:32,sx:{borderRadius:D.sm,ml:"auto"}})]}):e.length>0&&ke&&r.jsxs(r.Fragment,{children:[r.jsxs(y,{variant:"body2",sx:{color:"text.secondary",fontWeight:c.weight.medium,fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm}},children:[Je.totalGames," ",Je.totalGames===1?"Game":"Games"]}),Je.gamesInProgress>0&&r.jsxs(r.Fragment,{children:[r.jsx(qe,{orientation:"vertical",flexItem:!0,sx:{height:{xs:14,sm:16}}}),r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(Bt,{sx:{fontSize:8,color:"error.main"}}),r.jsxs(y,{variant:"body2",sx:{color:"error.main",fontWeight:c.weight.semibold,fontSize:{xs:c.size.bodySmall.xs,sm:c.size.bodySmall.sm}},children:[Je.gamesInProgress," Live"]})]})]}),r.jsx(p,{sx:{flex:1}}),r.jsxs(Hn,{value:B,exclusive:!0,onChange:($,R)=>R&&q(R),size:"small",sx:{flexWrap:"wrap",gap:{xs:.5,sm:0},"& .MuiToggleButton-root":{px:{xs:1.5,sm:1.5},py:{xs:1,sm:1},textTransform:"none",fontWeight:c.weight.semibold,fontSize:{xs:"0.7rem",sm:c.size.caption.sm},minHeight:{xs:44,sm:40},minWidth:{xs:44,sm:"auto"},borderColor:"divider",color:"text.secondary",transition:ge.smooth,"&.Mui-selected":{backgroundColor:"primary.main",color:"primary.contrastText",borderColor:"primary.main","&:hover":{backgroundColor:"primary.dark"}},"&:hover":{backgroundColor:"action.hover"}}},children:[r.jsx(At,{value:"all",children:"All"}),r.jsx(At,{value:"close",children:"Close"}),r.jsx(At,{value:"blowout",children:"Blowout"}),r.jsx(At,{value:"overtime",children:"OT"})]})]})}),a&&!j&&e.length===0?r.jsx(p,{children:r.jsxs(p,{sx:{mb:{xs:3,sm:4,md:5}},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:{xs:1.5,sm:2},mb:{xs:2,sm:2.5},pb:1},children:[r.jsx(se,{variant:"circular",width:20,height:20}),r.jsx(se,{variant:"text",width:140,height:28,sx:{flex:1}}),r.jsx(se,{variant:"rectangular",width:32,height:24,sx:{borderRadius:D.xs}})]}),r.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:{xs:2,sm:2.5,md:3}},children:[...Array(3)].map(($,R)=>r.jsx(se,{variant:"rectangular",height:110,sx:{borderRadius:D.md,height:{xs:100,sm:110}}},R))})]})}):ke?r.jsxs(p,{children:[a&&r.jsxs(p,{sx:{mb:Nr.section},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:Nr.element},children:[r.jsx(se,{variant:"text",width:120,height:24}),r.jsx(se,{variant:"rectangular",width:32,height:22,sx:{borderRadius:D.xs}})]}),r.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:1},children:[...Array(2)].map(($,R)=>r.jsx(se,{variant:"rectangular",height:64,sx:{borderRadius:D.sm}},R))})]}),He("Live Games",it,r.jsx(Bt,{sx:{fontSize:{xs:16,sm:18},color:"error.main"}}),!0),He("Upcoming Games",lt,r.jsx(Qt,{sx:{fontSize:{xs:16,sm:18}}}),it.length===0),He("Completed Games",gt,r.jsx(Jt,{sx:{fontSize:{xs:16,sm:18}}}),it.length===0&&lt.length===0)]}):r.jsxs(p,{children:[a&&r.jsxs(p,{sx:{mb:{xs:3,sm:4,md:5}},children:[r.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:{xs:1.5,sm:2},mb:{xs:2,sm:2.5},pb:1},children:[r.jsx(se,{variant:"circular",width:20,height:20}),r.jsx(se,{variant:"text",width:140,height:28,sx:{flex:1}}),r.jsx(se,{variant:"rectangular",width:32,height:24,sx:{borderRadius:D.xs}})]}),r.jsx(p,{sx:{display:"flex",flexDirection:"column",gap:{xs:2,sm:2.5,md:3}},children:[...Array(2)].map(($,R)=>r.jsx(se,{variant:"rectangular",height:110,sx:{borderRadius:D.md,height:{xs:100,sm:110}}},R))})]}),f<ft?He("Completed Games",gt,r.jsx(Jt,{sx:{fontSize:{xs:16,sm:18}}}),!0):He("Future Games",lt,r.jsx(Qt,{sx:{fontSize:{xs:16,sm:18}}}),!0)]}),!a&&e.length===0&&r.jsxs(p,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:{xs:8,sm:12},px:3,minHeight:"50vh"},children:[r.jsx(p,{sx:{position:"relative",mb:4,animation:"float 3s ease-in-out infinite","@keyframes float":{"0%, 100%":{transform:"translateY(0px)"},"50%":{transform:"translateY(-10px)"}}},children:r.jsx(Jt,{sx:{fontSize:{xs:100,sm:120},color:"primary.main",opacity:.3}})}),r.jsx(y,{variant:"h5",sx:{fontWeight:c.weight.bold,mb:1,textAlign:"center",color:"text.primary"},children:"No Games Scheduled"}),r.jsxs(y,{variant:"body1",color:"text.secondary",sx:{textAlign:"center",mb:4,maxWidth:500,lineHeight:1.6},children:["There are no NBA games scheduled for ",f===Oe()?"today":"this date",". Check another date or come back later!"]}),r.jsxs(p,{sx:{display:"flex",gap:2,flexWrap:"wrap",justifyContent:"center"},children:[r.jsx(Ve,{variant:"outlined",startIcon:r.jsx(Kn,{}),onClick:()=>S(Oe()),sx:{px:3,py:1.5,borderRadius:D.sm,textTransform:"none",fontWeight:c.weight.semibold},children:"View Today's Games"}),r.jsx(Ve,{variant:"outlined",startIcon:r.jsx(Qt,{}),onClick:()=>{const $=new Date(f);$.setDate($.getDate()+1),S($.toISOString().split("T")[0])},sx:{px:3,py:1.5,borderRadius:D.sm,textTransform:"none",fontWeight:c.weight.semibold},children:"View Tomorrow"})]})]}),!a&&st.length===0&&ot.length===0&&at.length===0&&e.length!==0&&r.jsxs(p,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:{xs:8,sm:12},px:3,minHeight:"50vh"},children:[r.jsx(p,{sx:{position:"relative",mb:4,animation:"pulse 2s ease-in-out infinite","@keyframes pulse":{"0%, 100%":{opacity:.5},"50%":{opacity:1}}},children:r.jsx(Vn,{sx:{fontSize:{xs:100,sm:120},color:"text.disabled",opacity:.3}})}),r.jsx(y,{variant:"h5",sx:{fontWeight:c.weight.bold,mb:1,textAlign:"center",color:"text.primary"},children:"No Games Match Your Filters"}),r.jsx(y,{variant:"body1",color:"text.secondary",sx:{textAlign:"center",mb:4,maxWidth:500,lineHeight:1.6},children:"Try adjusting your filters or selecting a different date to see more games."}),r.jsx(Ve,{variant:"contained",startIcon:r.jsx(Zn,{}),onClick:()=>q("all"),sx:{px:4,py:1.5,borderRadius:1.5,textTransform:"none",fontWeight:600},children:"Clear Filters"})]}),d&&g&&r.jsx(al,{gameId:"gameId"in d?d.gameId:d.game_id,open:!!g,onClose:()=>{x(null)},initialTab:g||"box",gameInfo:{homeTeam:"homeTeam"in d?(bt=d.homeTeam)==null?void 0:bt.teamName:(yt=d.home_team)==null?void 0:yt.team_abbreviation,awayTeam:"awayTeam"in d?(vt=d.awayTeam)==null?void 0:vt.teamName:(St=d.away_team)==null?void 0:St.team_abbreviation,homeScore:"homeTeam"in d?(M=d.homeTeam)==null?void 0:M.score:(le=d.home_team)==null?void 0:le.points,awayScore:"awayTeam"in d?(Te=d.awayTeam)==null?void 0:Te.score:(Ie=d.away_team)==null?void 0:Ie.points,status:"gameStatusText"in d?d.gameStatusText:d.game_status}}),r.jsx(Wn,{open:!!k,autoHideDuration:5e3,onClose:()=>O(null),anchorOrigin:{vertical:"top",horizontal:"right"},sx:{mt:8},children:r.jsx(ga,{onClose:()=>O(null),severity:(k==null?void 0:k.severity)||"info",variant:"filled",sx:{width:"100%"},icon:r.jsx(Xn,{}),children:k==null?void 0:k.message})}),f>=Oe()&&r.jsx(ll,{open:U,onClose:()=>K(!1),predictions:nt,loading:Ht,error:Ut,isUpdating:Ht&&nt.length>0})]})]})};export{El as default};
