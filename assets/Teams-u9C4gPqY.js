import{v as A,p as D,r as d,j as e,B as r,S as C}from"./index-BeuNjhzr.js";import{N as P,t as l,v as B,w as N,S as L,d as u,P as F,j as k,A as M,m as G,n as O}from"./Navbar-MuDbTouq.js";import{g as J,a as U}from"./season-CT1Q602E.js";import{b as X}from"./teamMappings-BQ8e-HGV.js";import{T as m,d as v}from"./Button-D9sHacpw.js";import{M as Y}from"./MenuItem-B94b0CfJ.js";import{G as c}from"./Grid-B2OP_tQa.js";import"./listItemIconClasses-D9Q1YNh2.js";const n=(h,g,i)=>`clamp(${h}, ${g}, ${i})`,re=()=>{const[h,g]=A(),i=D(),[x,W]=d.useState([]),[z,b]=d.useState(!0),[j,y]=d.useState(""),p=h.get("season")||J(),E=U(5),_=s=>{g({season:s})};d.useEffect(()=>{(async()=>{b(!0),y("");try{const t=await G(`${O}/api/v1/standings/season/${p}`,{},{maxRetries:3,retryDelay:1e3,timeout:3e4});t&&t.standings&&W(t.standings)}catch(t){console.error("Error fetching team data:",t),y("Failed to load team data")}finally{b(!1)}})()},[p]);const H=d.useMemo(()=>{const s={East:{},West:{}};return x.forEach(t=>{s[t.conference][t.division]||(s[t.conference][t.division]=[]),s[t.conference][t.division].push(t)}),Object.keys(s).forEach(t=>{Object.keys(s[t]).forEach(o=>{s[t][o].sort((a,f)=>a.playoff_rank-f.playoff_rank)})}),s},[x]),$={East:["Atlantic","Central","Southeast"],West:["Northwest","Pacific","Southwest"]},T=s=>{const t=`${s.team_city} ${s.team_name}`;return X(t).logo};return e.jsxs(r,{sx:{minHeight:"100dvh",backgroundColor:"background.default",display:"flex",flexDirection:"column",maxWidth:"100vw",overflowX:"hidden",overflowY:"visible",width:"100%"},children:[e.jsx(P,{}),e.jsxs(r,{sx:{maxWidth:"1400px",mx:"auto",px:{xs:1,sm:2,md:3,lg:4},py:{xs:2,sm:3},width:"100%"},children:[e.jsxs(r,{sx:{mb:{xs:2,sm:3},display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2,minHeight:{xs:80,sm:90}},children:[e.jsx(r,{sx:{display:"flex",alignItems:"center",gap:1.5},children:e.jsx(m,{variant:"h4",sx:{fontWeight:l.weight.bold,fontSize:n("1.25rem","4vw","1.5rem"),color:"text.primary",letterSpacing:l.letterSpacing.tight},children:"All Teams"})}),e.jsxs(B,{size:"small",sx:{minWidth:{xs:160,sm:180}},children:[e.jsx(N,{sx:{fontSize:n("0.875rem","2vw","1rem")},children:"Season"}),e.jsx(L,{value:p,label:"Season",onChange:s=>_(s.target.value),sx:{borderRadius:u.sm,fontSize:n("0.875rem","2vw","1rem")},children:E.map(s=>e.jsxs(Y,{value:s,children:[s," Regular Season"]},s))})]})]}),e.jsx(r,{sx:{minHeight:{xs:600,sm:800}},children:z&&x.length===0?e.jsx(r,{sx:{display:"flex",flexDirection:"column",gap:3},children:[...Array(2)].map((s,t)=>e.jsxs(r,{children:[e.jsx(C,{variant:"text",width:250,height:32,sx:{mb:2}}),e.jsx(c,{container:!0,spacing:2,children:[...Array(3)].map((o,a)=>e.jsx(c,{item:!0,xs:12,sm:6,lg:4,children:e.jsx(C,{variant:"rectangular",height:400,sx:{borderRadius:u.md}})},a))})]},t))}):j&&x.length===0?e.jsx(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:8},children:e.jsx(m,{variant:"body1",color:"error",sx:{fontSize:n("0.875rem","2vw","1rem")},children:j})}):x.length===0?e.jsx(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:8},children:e.jsx(m,{variant:"body1",color:"text.secondary",sx:{fontSize:n("0.875rem","2vw","1rem")},children:"No team data available."})}):e.jsx(e.Fragment,{children:["East","West"].map(s=>e.jsxs(r,{sx:{mb:{xs:3,sm:4},minHeight:{xs:400,sm:500}},children:[e.jsx(m,{variant:"h5",sx:{fontWeight:l.weight.bold,mb:2,fontSize:n("1rem","3vw","1.25rem"),color:"text.primary",letterSpacing:l.letterSpacing.tight,minHeight:{xs:"1.5rem",sm:"1.75rem"}},children:s==="East"?"Eastern Conference":"Western Conference"}),e.jsx(c,{container:!0,spacing:2,alignItems:"flex-start",children:$[s].map(t=>{const o=H[s][t]||[];return o.length===0?null:e.jsx(c,{item:!0,xs:12,sm:6,lg:4,children:e.jsxs(r,{sx:{mb:3,display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(m,{variant:"subtitle1",sx:{fontWeight:l.weight.semibold,mb:1.5,fontSize:n("0.875rem","2vw","1rem"),color:"text.secondary",textTransform:"uppercase",letterSpacing:"0.5px",minHeight:{xs:"1.5rem",sm:"1.75rem"},lineHeight:1.5},children:t}),e.jsx(F,{elevation:0,sx:{border:"1px solid",borderColor:"divider",borderRadius:u.md,overflow:"hidden",backgroundColor:"background.paper",minHeight:{xs:300,sm:400}},children:o.map((a,f)=>{const I=T(a),S=`${a.team_city} ${a.team_name}`;return e.jsxs(r,{sx:{display:"flex",alignItems:"flex-start",gap:1.5,p:2,borderBottom:f<o.length-1?"1px solid":"none",borderColor:"divider",transition:k.normal,minHeight:120,"&:hover":{backgroundColor:"action.hover"}},children:[e.jsx(M,{src:I,alt:S,onClick:()=>i(`/team/${a.team_id}`),sx:{width:40,height:40,aspectRatio:"1/1",backgroundColor:"transparent",border:"1px solid",borderColor:"divider",cursor:"pointer",transition:k.normal,flexShrink:0,mt:.25,"&:hover":{borderColor:"primary.main",transform:"scale(1.05)"}},onError:R=>{const w=R.currentTarget;w.onerror=null,w.src="/logos/default.svg"}}),e.jsx(r,{sx:{flex:1,minWidth:0,mr:1,overflow:"hidden"},children:e.jsx(m,{variant:"body1",sx:{fontWeight:l.weight.bold,fontSize:n("0.875rem","2vw","1rem"),mb:.25,wordBreak:"break-word",overflowWrap:"break-word",display:"block",lineHeight:1.4},children:S})}),e.jsxs(r,{sx:{display:"flex",gap:.5,flexShrink:0,ml:"auto",flexWrap:"wrap",alignItems:"flex-start"},children:[e.jsx(v,{size:"small",variant:"text",onClick:()=>i(`/team/${a.team_id}`),sx:{textTransform:"none",fontSize:n("0.7rem","1.5vw","0.8125rem"),minWidth:{xs:44,sm:"auto"},px:{xs:1,sm:1},py:{xs:1,sm:.5},whiteSpace:"nowrap",minHeight:{xs:44,sm:36}},children:"Profile"}),e.jsx(v,{size:"small",variant:"text",onClick:()=>i(`/team/${a.team_id}?tab=stats`),sx:{textTransform:"none",fontSize:n("0.7rem","1.5vw","0.8125rem"),minWidth:{xs:44,sm:"auto"},px:{xs:1,sm:1},py:{xs:1,sm:.5},whiteSpace:"nowrap",minHeight:{xs:44,sm:36}},children:"Stats"}),e.jsx(v,{size:"small",variant:"text",onClick:()=>i(`/team/${a.team_id}?tab=schedule`),sx:{textTransform:"none",fontSize:n("0.7rem","1.5vw","0.8125rem"),minWidth:{xs:44,sm:"auto"},px:{xs:1,sm:1},py:{xs:1,sm:.5},whiteSpace:"nowrap",minHeight:{xs:44,sm:36}},children:"Schedule"})]})]},a.team_id)})})]})},t)})})]},s))})})]})]})};export{re as default};
